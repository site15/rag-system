## My telegram message #205395
**Time:** 10.12.2022 20:06:24 UTC+05:00
**Link:** https://t.me/nest_ru/205395

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- там разве не нест?
- ему надо чтобы всё готовое было
- Всем привет. Подскажите пожалуйста какие есть либы под nest для ведения статистики сервиса? Например подсчет запросов, кодов, запрашиваемых url и тому подобное
- Привет , подскажите в паттерне микросервисов с api gateway , допустимо что микросервисы общаются между собой минуя api gateway ?

Main message:
не делать гейтвей, пилить монолит, а тяжелые операции выносить в мс через любой транспорт?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

не делать гейтвей, пилить монолит, а тяжелые операции выносить в мс через любой транспорт?

--

## My telegram message #205401
**Time:** 10.12.2022 20:34:48 UTC+05:00
**Link:** https://t.me/nest_ru/205401

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Можно ли организовать общение микросервисов не через прямые вызовы к апи, а там через ивенты? Конечно можно и даже предпочтительнее

Main message:
Откаты сложнее там делать если мс упал при выполнени запроса

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Откаты сложнее там делать если мс упал при выполнени запроса

--

## My telegram message #205405
**Time:** 10.12.2022 21:00:04 UTC+05:00
**Link:** https://t.me/nest_ru/205405

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Знаю что можно, вот и хотел уточнить насчет этого. Всем спасибо
- Откаты сложнее там делать если мс упал при выполнени запроса
- что за откаты эксепшеном заканчивается эвент и всё
- Ага. На другой стороне. С сообщением в шине. Молча для сервиса, который отправлял сообщения.

Main message:
1 Добавить товар в корзину 2 Отнять с баланса сумму товара <-- вот тут мс упал 3 Обновить баланс

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

1 Добавить товар в корзину 2 Отнять с баланса сумму товара <-- вот тут мс упал 3 Обновить баланс

--

## My telegram message #205408
**Time:** 10.12.2022 21:00:54 UTC+05:00
**Link:** https://t.me/nest_ru/205408

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- так в транзакции все должно быть

Main message:
это между микросервисов происходит на разных нодах и разных серверах и разных материках

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

это между микросервисов происходит на разных нодах и разных серверах и разных материках

--

## My telegram message #205415
**Time:** 10.12.2022 21:02:15 UTC+05:00
**Link:** https://t.me/nest_ru/205415

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- иди в шину постучить с другой стороны
- Кто стучать будет. Он упал. Сервер.
- у тебя запрос не пройдет вызови эксепшен маня
- Прошёл запрос к шине.

Main message:
не нужно создавать мс ради мс, создавай их тогда когда без них уже никак

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

не нужно создавать мс ради мс, создавай их тогда когда без них уже никак

--

## My telegram message #205418
**Time:** 10.12.2022 21:02:45 UTC+05:00
**Link:** https://t.me/nest_ru/205418

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- у тебя запрос не пройдет вызови эксепшен маня
- Прошёл запрос к шине.
- не нужно создавать мс ради мс, создавай их тогда когда без них уже никак
- Ты отправил запрос - добавь товар в корзину.

Main message:
я просто сейчас на работе схлопываю кучу мс в монолит

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я просто сейчас на работе схлопываю кучу мс в монолит

--

## My telegram message #205420
**Time:** 10.12.2022 21:03:24 UTC+05:00
**Link:** https://t.me/nest_ru/205420

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- не нужно создавать мс ради мс, создавай их тогда когда без них уже никак
- Ты отправил запрос - добавь товар в корзину.
- я просто сейчас на работе схлопываю кучу мс в монолит
- Это тебе не рест: получил 5xx, откатил трансу.

Main message:
так как били их просто так) без какого то смысла и нужды, мода/домены и всякая другая чепуха джуновая

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

так как били их просто так) без какого то смысла и нужды, мода/домены и всякая другая чепуха джуновая

--

## My telegram message #205426
**Time:** 10.12.2022 21:03:58 UTC+05:00
**Link:** https://t.me/nest_ru/205426

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- так как били их просто так) без какого то смысла и нужды, мода/домены и всякая другая чепуха джуновая
- ну ответа нет епа
- Это сообщение. Положил его и привет. Там нет ответов, епта
- шина у него, не хв пишешь

Main message:
хушина

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

хушина

--

## My telegram message #205435
**Time:** 10.12.2022 21:06:08 UTC+05:00
**Link:** https://t.me/nest_ru/205435

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- комп выкини и руки
- Заверни себе палочку в дырочку.
- а ты раздвигай маня сервер унес цунами
- Между микросервисами обычно саги + идемподентность ивентов + репроцессинг n-го количества ивентов после запуска микросервиса

Main message:
он четко все сказал

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

он четко все сказал

--

## My telegram message #205438
**Time:** 10.12.2022 21:07:01 UTC+05:00
**Link:** https://t.me/nest_ru/205438

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- он четко все сказал

Main message:
ой, ну я про Джон До, он норм сказал

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ой, ну я про Джон До, он норм сказал

--

## My telegram message #205455
**Time:** 10.12.2022 21:49:57 UTC+05:00
**Link:** https://t.me/nest_ru/205455

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- а сага это не транзакция по твоему?

Main message:
когда мы говорим транзакция, мы имеем ввиду бд

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

когда мы говорим транзакция, мы имеем ввиду бд

--

## My telegram message #205467
**Time:** 10.12.2022 23:07:31 UTC+05:00
**Link:** https://t.me/nest_ru/205467

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Отбитый. Ага. Так где ты работаешь?
- а сага это не транзакция по твоему?
- когда мы говорим транзакция, мы имеем ввиду бд
- не стоило чет было говорить

Main message:
Аниме топ

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Аниме топ

--

## My telegram message #206067
**Time:** 13.12.2022 22:19:44 UTC+05:00
**Link:** https://t.me/nest_ru/206067

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ну ничего, еще 2 проекта сделаешь и начнешь плеваться)
- Я свой то сайт уже год делаю .. (дело не в том, что что-то не получается, а в том, что постоянно что-то не нравится и ты сидишь перебираешь варианты). Уж не знаю когда я возьмусь за другой проект. В каком смысле плевать начну ?
- Это нормаль, показатель того, что ты развиваешься) Нужно еще научиться определять, где требуется реальная оптимизация и рефакторинг, а где может и подождать
- @KaufmanEndy ты юзаешь юниверсалн на ангуляре? Если юзал то была ли проблем с intersectionobserver?

Main message:
юзаю да, а зачем это в сср юзать) вырубай через isPlatformServer

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

юзаю да, а зачем это в сср юзать) вырубай через isPlatformServer

--

## My telegram message #206070
**Time:** 13.12.2022 22:33:02 UTC+05:00
**Link:** https://t.me/nest_ru/206070

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- @KaufmanEndy ты юзаешь юниверсалн на ангуляре? Если юзал то была ли проблем с intersectionobserver?
- юзаю да, а зачем это в сср юзать) вырубай через isPlatformServer
- Да я взял тайгу и там выпадает эта тема
- оффтоп не по теме, но всё же, какой резон бороться с universal, если есть next ?

Main message:
потому что мы пишем фронт на ангулар а некст это про реакт)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

потому что мы пишем фронт на ангулар а некст это про реакт)

--

## My telegram message #206074
**Time:** 13.12.2022 23:10:28 UTC+05:00
**Link:** https://t.me/nest_ru/206074

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- мой бэкэнд получает ip адрес клиента как локальный ::ffff: 127.0.0.1 из-за nginx - что и где поменять, чтобы приходил правильный клиентский ip адрес

Main message:
location  /api { proxy_pass http://server:3000; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; }

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

location  /api { proxy_pass http://server:3000; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; }

--

## My telegram message #206209
**Time:** 14.12.2022 20:55:40 UTC+05:00
**Link:** https://t.me/nest_ru/206209

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Как выше сказали, обе херни. Если база данных postgres, я бы взял slonik + zod, который он поддерживает из коробки. А специально для миграций есть отдельный language-agnostic инструмент  https://flywaydb.org/

Main message:
О! Ты тоже перешёл) юзаешь репитбл миграции и бефор мигратионс?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

О! Ты тоже перешёл) юзаешь репитбл миграции и бефор мигратионс?

--

## My telegram message #206219
**Time:** 14.12.2022 21:18:30 UTC+05:00
**Link:** https://t.me/nest_ru/206219

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Тоже залупа по сути
- вообще все ORM залупы.  https://seldo.com/posts/orm_is_an_antipattern
- Что?
- Чистый sql позволяет допустить больше ошибок, нет типизации, нет валидации, нет стандартизации 100500 решений одной и той же задачи)

Main message:
жду когда призма добавит валидацию сырых запросов по схема призма, я прям охерею) спеки и ишью не искал, но верю что это возможно

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

жду когда призма добавит валидацию сырых запросов по схема призма, я прям охерею) спеки и ишью не искал, но верю что это возможно

--

## My telegram message #206223
**Time:** 14.12.2022 21:20:27 UTC+05:00
**Link:** https://t.me/nest_ru/206223

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Чистый sql позволяет допустить больше ошибок, нет типизации, нет валидации, нет стандартизации 100500 решений одной и той же задачи)
- жду когда призма добавит валидацию сырых запросов по схема призма, я прям охерею) спеки и ишью не искал, но верю что это возможно
- Ну призма валидирует данные которые ты ей суешь в raw, но она валидирует только для того, чтобы ты не смог там сделать дыру для sql иньекций)
- На самом деле куда как больше хочется возможности ссылаться в where на значение из этой же строки

Main message:
мм, это сложно)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

мм, это сложно)

--

## My telegram message #206226
**Time:** 14.12.2022 21:21:02 UTC+05:00
**Link:** https://t.me/nest_ru/206226

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Ну призма валидирует данные которые ты ей суешь в raw, но она валидирует только для того, чтобы ты не смог там сделать дыру для sql иньекций)
- На самом деле куда как больше хочется возможности ссылаться в where на значение из этой же строки
- мм, это сложно)
- На эту тему даже ишью есть

Main message:
я бы такой ишью закрыл)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я бы такой ишью закрыл)

--

## My telegram message #206231
**Time:** 14.12.2022 21:27:52 UTC+05:00
**Link:** https://t.me/nest_ru/206231

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Короче пусть есть столбцы A, B и C Я хочу найти все такие строки, в которых A > B, или, например, B = C

Main message:
я бы не апрувнул

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я бы не апрувнул

--

## My telegram message #206234
**Time:** 14.12.2022 21:28:51 UTC+05:00
**Link:** https://t.me/nest_ru/206234

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Такое ощущение, что выбор только между «везде орм» и «везде sql». Это же вполне комбинируемы решения. Для круда и oltp орм, для остального, в частности для аналитики, sql
- именно так и есть хочешь писать сложный запрос - юзай sql, хочешь простой - orm это минимизирует проблемы. А сам запрос покрываешь тестами и моками
- я бы не апрувнул
- Ну вот пока никто и не апрувнул))

Main message:
туда воткнут опять всякие кастомы из этого куча багов, логика пошла куда попало, призма становится тайп орм, люди бегут от нее... не спасибо)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

туда воткнут опять всякие кастомы из этого куча багов, логика пошла куда попало, призма становится тайп орм, люди бегут от нее... не спасибо)

--

## My telegram message #206236
**Time:** 14.12.2022 21:29:59 UTC+05:00
**Link:** https://t.me/nest_ru/206236

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- я бы не апрувнул
- Ну вот пока никто и не апрувнул))
- туда воткнут опять всякие кастомы из этого куча багов, логика пошла куда попало, призма становится тайп орм, люди бегут от нее... не спасибо)
- чекни kysely

Main message:
нужно ограничивать людей всетки, если нужен кастом, значит и скорость нужна - пиши сырой запрос, кастома же много разного бывает, тв привел пример 1 из 10000)))

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

нужно ограничивать людей всетки, если нужен кастом, значит и скорость нужна - пиши сырой запрос, кастома же много разного бывает, тв привел пример 1 из 10000)))

--

## My telegram message #206255
**Time:** 14.12.2022 21:44:58 UTC+05:00
**Link:** https://t.me/nest_ru/206255

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Постоянно мы ноздря в ноздрю идём:) Я сейчас новый проект делаю, и сейчас заканчиваю разрабатывать бизнес-логику, скоро приступаю к БД и уже присмотрел этот стэк. Пока полноценно не перешёл

Main message:
Поищи в доке эти слова, я без них вообще теперь не могу на других миграторах)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Поищи в доке эти слова, я без них вообще теперь не могу на других миграторах)

--

## My telegram message #206261
**Time:** 14.12.2022 22:16:40 UTC+05:00
**Link:** https://t.me/nest_ru/206261

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
я за 200, 400, 30X, 500 остальное выкидываю, нужный мне код лежит в боди 400  { code:AuthEnum.Fack message: 'Fack' } { code:CoreEnum.FackCore message: 'FackCore' } { code:CoreEnum.InvalidArguments validationErrors:{тут то что класс валидатор кидает} message: 'Validation errors' }

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я за 200, 400, 30X, 500 остальное выкидываю, нужный мне код лежит в боди 400  { code:AuthEnum.Fack message: 'Fack' } { code:CoreEnum.FackCore message: 'FackCore' } { code:CoreEnum.InvalidArguments validationErrors:{тут то что класс валидатор кидает} message: 'Validation errors' }

--

