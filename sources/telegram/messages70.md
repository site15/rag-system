## My telegram message #71914
**Time:** 04.09.2020 00:00:31 UTC+05:00
**Link:** https://t.me/nest_ru/71914

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
решил нет?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

решил нет?

--

## My telegram message #71918
**Time:** 04.09.2020 00:05:59 UTC+05:00
**Link:** https://t.me/nest_ru/71918

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Добрый день, помогите разобраться с подключением 2-х БД
- хелп
- решил нет?
- неа

Main message:
как подрубаешь?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

как подрубаешь?

--

## My telegram message #71922
**Time:** 04.09.2020 00:06:42 UTC+05:00
**Link:** https://t.me/nest_ru/71922

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- решил нет?
- неа
- как подрубаешь?
- я делаю injection

Main message:
покажы код

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

покажы код

--

## My telegram message #71929
**Time:** 04.09.2020 00:08:52 UTC+05:00
**Link:** https://t.me/nest_ru/71929

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- как подрубаешь?
- я делаю injection
- покажы код
- но тут я новые репы не успел прописать

Main message:
скрин дай как репозиторий подрубаешь или инжект

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

скрин дай как репозиторий подрубаешь или инжект

--

## My telegram message #71943
**Time:** 04.09.2020 00:32:01 UTC+05:00
**Link:** https://t.me/nest_ru/71943

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
@InjectRepository (Entity, CONNECTION_NAME)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

@InjectRepository (Entity, CONNECTION_NAME)

--

## My telegram message #71949
**Time:** 04.09.2020 00:36:45 UTC+05:00
**Link:** https://t.me/nest_ru/71949

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- скрин дай как репозиторий подрубаешь или инжект
- я не спушил, иду домой)))
- Ни разу не подключал две базы данных. Но что если сделать их разными database.service, database.module?
- @InjectRepository (Entity, CONNECTION_NAME)

Main message:
ты конкшен тащишь, не то походу

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ты конкшен тащишь, не то походу

--

## My telegram message #71962
**Time:** 04.09.2020 00:43:32 UTC+05:00
**Link:** https://t.me/nest_ru/71962

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Ни разу не подключал две базы данных. Но что если сделать их разными database.service, database.module?
- @InjectRepository (Entity, CONNECTION_NAME)
- ты конкшен тащишь, не то походу
- но тогда вопрос

Main message:
там ксасяк

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

там ксасяк

--

## My telegram message #71970
**Time:** 04.09.2020 01:01:46 UTC+05:00
**Link:** https://t.me/nest_ru/71970

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ты конкшен тащишь, не то походу
- но тогда вопрос
- там ксасяк
- то есть нужно удалить имя у одной?

Main message:
одна без имени должна быть

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

одна без имени должна быть

--

## My telegram message #71974
**Time:** 04.09.2020 01:02:34 UTC+05:00
**Link:** https://t.me/nest_ru/71974

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- там ксасяк
- то есть нужно удалить имя у одной?
- одна без имени должна быть
- так и сделал, все ок

Main message:
да хз, исходники глянь, фича наверное)) чтобы имя не укзывать всегда

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

да хз, исходники глянь, фича наверное)) чтобы имя не укзывать всегда

--

## My telegram message #71978
**Time:** 04.09.2020 01:03:20 UTC+05:00
**Link:** https://t.me/nest_ru/71978

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- одна без имени должна быть
- так и сделал, все ок
- да хз, исходники глянь, фича наверное)) чтобы имя не укзывать всегда
- а у меня знаний настолько не хватает)))) чтобы исходники глядеть)

Main message:
я тож с этой херней возился в свое время

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я тож с этой херней возился в свое время

--

## My telegram message #71980
**Time:** 04.09.2020 01:03:58 UTC+05:00
**Link:** https://t.me/nest_ru/71980

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- да хз, исходники глянь, фича наверное)) чтобы имя не укзывать всегда
- а у меня знаний настолько не хватает)))) чтобы исходники глядеть)
- я тож с этой херней возился в свое время
- но спасибо тебе! Все обрыл в интернете

Main message:
ага

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ага

--

## My telegram message #72178
**Time:** 05.09.2020 16:01:57 UTC+05:00
**Link:** https://t.me/nest_ru/72178

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- А почему бы в чат не запостить проблему, или там всё очень сложно?))
- Я постил, мне не помогло, мне нужны периодические консультации и нет времени сидеть с гуглом, хочу реально разобраться и понимать всё
- Почему у тебя в полях классов пишутся ID связей, а не сами сущности, на которые ссылка идёт? Разве не должно быть  @OneToOne(...) @JoinColumn() role: ModelHasRoles  ?
- Привет,посоветуйте как разбивать бизнес логику по файлам? Гуарды делать отдельно или допустим включать в модуль авторизации? Если не сложно я быв заглянул на пример кода

Main message:
Я в модуль пихаю

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Я в модуль пихаю

--

## My telegram message #72198
**Time:** 07.09.2020 10:44:32 UTC+05:00
**Link:** https://t.me/nest_ru/72198

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- А чем плохо так делать?

Main message:
Лучше кидать ексепшен, его хоть можно поймать и понять что за ошибка была, когда нулл возвращаешь он может по цепочке пойти по коду и затык возникнет в неожиданно месте и бушь долго дебажить, а то что эксепшен можно быстро найти место в коде

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Лучше кидать ексепшен, его хоть можно поймать и понять что за ошибка была, когда нулл возвращаешь он может по цепочке пойти по коду и затык возникнет в неожиданно месте и бушь долго дебажить, а то что эксепшен можно быстро найти место в коде

--

## My telegram message #72399
**Time:** 07.09.2020 13:30:12 UTC+05:00
**Link:** https://t.me/nest_ru/72399

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Пожалуй, так и сделаю, благодарю. А это нормальная практика ручками править сгенерированные typeorm миграции?

Main message:
Данные трёт, лучше руками делать миграции

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Данные трёт, лучше руками делать миграции

--

## My telegram message #72401
**Time:** 07.09.2020 13:32:42 UTC+05:00
**Link:** https://t.me/nest_ru/72401

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Пожалуй, так и сделаю, благодарю. А это нормальная практика ручками править сгенерированные typeorm миграции?
- Вот тут не подскажу честно говоря, но обычно вроде отключают автогенерацию схемы (если ты про это)
- Данные трёт, лучше руками делать миграции
- да я тоже исходя из этого

Main message:
И лучше с самого начала так делать, чтобы привыкнуть, к автомиграциям привыкаешь на этапе разработки, когда в проде начинаешь поддерживать продукт, в один из дней дропнешь данные юзеров а там каскадом и все остальное, не круто это

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

И лучше с самого начала так делать, чтобы привыкнуть, к автомиграциям привыкаешь на этапе разработки, когда в проде начинаешь поддерживать продукт, в один из дней дропнешь данные юзеров а там каскадом и все остальное, не круто это

--

## My telegram message #72406
**Time:** 07.09.2020 13:39:43 UTC+05:00
**Link:** https://t.me/nest_ru/72406

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- да я тоже исходя из этого
- И лучше с самого начала так делать, чтобы привыкнуть, к автомиграциям привыкаешь на этапе разработки, когда в проде начинаешь поддерживать продукт, в один из дней дропнешь данные юзеров а там каскадом и все остальное, не круто это
- Можно ещё раз вопрос.У меня будет около 10-20 енитити.Стоит ли под каждую выделять модуль?
- Сгруппируй на несколько модулей сущности, они же связаны между собой каким-то образом

Main message:
да

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

да

--

## My telegram message #72408
**Time:** 07.09.2020 13:40:21 UTC+05:00
**Link:** https://t.me/nest_ru/72408

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Можно ещё раз вопрос.У меня будет около 10-20 енитити.Стоит ли под каждую выделять модуль?
- Сгруппируй на несколько модулей сущности, они же связаны между собой каким-то образом
- да
- Благодарю за помощь

Main message:
я ушел от тайп ом миграций в flyway чтобы отделить миграции от неста, гоняю их с сиай

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я ушел от тайп ом миграций в flyway чтобы отделить миграции от неста, гоняю их с сиай

--

## My telegram message #72411
**Time:** 07.09.2020 13:43:02 UTC+05:00
**Link:** https://t.me/nest_ru/72411

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- да
- Благодарю за помощь
- я ушел от тайп ом миграций в flyway чтобы отделить миграции от неста, гоняю их с сиай
- Скажите,а стоит делать модули иерархичными,допустим одна папка это модуль,а внутри неё ещё несколько папок тоже модули

Main message:
я так делаю когда на скоряк, но помечаю эти модули для рефакторинга, чтобы потом разнести

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я так делаю когда на скоряк, но помечаю эти модули для рефакторинга, чтобы потом разнести

--

## My telegram message #72446
**Time:** 07.09.2020 16:26:23 UTC+05:00
**Link:** https://t.me/nest_ru/72446

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Throw an Exception - In some scenarios the right thing to do is to throw an exception. Это какой такой сценарий? Когда нет подключения к б.д. - это вообще никак не относится к результатам поиска.
- прямо в update делай set new_col = CASE WHEN old_col = '1' then 1 END
- при использовании NATS  @EventsPattern , при однократной отправке, событие прилетает стабильно дважды. Все перепроверил, что это быть такое может?
- Всем привет, вот такой вопрос есть:

Main message:
список ид чатов отправь в in

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

список ид чатов отправь в in

--

## My telegram message #72490
**Time:** 07.09.2020 19:43:27 UTC+05:00
**Link:** https://t.me/nest_ru/72490

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- вкусовщина же)
- В итоге сделал так, может быть кому-то будет полезным:  ALTER TABLE "users_1" ALTER COLUMN "bodytype_old" DROP DEFAULT; ALTER TABLE "users_1" ALTER COLUMN bodytype_old type "users_bodytype_enum_new_test" USING ( CASE WHEN bodytype_old::text = '0' THEN CAST('ectomorph' as users_bodytype_enum_new_test) WHEN bodytype_old::text = '1' THEN CAST('mesomorph' as users_bodytype_enum_new_test) WHEN bodytype_old::text = '2' THEN CAST('endomorph' as users_bodytype_enum_new_test) END );
- Вариант)
- Кто-то пробовал решить N+1 проблему с GraphQL? Есть решение c  https://github.com/graphql/dataloader : 1.  https://codersera.com/blog/nestjs-typeorm-graphql-dataloader-tutorial-with-typescript/#introduction-to-dataloader 2.  https://github.com/krislefeber/nestjs-dataloader Но хотелось бы что-то менее костыльное и request scoped (чтобы garbage collected после КАЖДОГО реквеста). Мейнтейнер неста игнорирут проблему (как мне кажется). Идеи, советы? P.S.: Хотелось бы с чтобы работало с DI (dependency injection)

Main message:
А зачем его вообще юзать? На уровне тайп орм есть кэш для запросов, можно там кэшировать, там и ттл есть и именованный кэш чтобы руками чистить

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

А зачем его вообще юзать? На уровне тайп орм есть кэш для запросов, можно там кэшировать, там и ттл есть и именованный кэш чтобы руками чистить

--

## My telegram message #72496
**Time:** 08.09.2020 02:18:37 UTC+05:00
**Link:** https://t.me/nest_ru/72496

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- А зачем его вообще юзать? На уровне тайп орм есть кэш для запросов, можно там кэшировать, там и ттл есть и именованный кэш чтобы руками чистить
- Я думаю попробовать LazyRelations попробовать, но там тоже свои ньюансы...
- https://blog.appsignal.com/2020/06/09/n-plus-one-queries-explained.html N+1 всё же присутствует. Моя цель минимизировать количество запросов на дб. EagerRelations не вариант, так как не всегда все relation нужны... Если хотите сами увидеть какие квери посылаются при запросе с lazy relations добавьте logging: ['query'] в конфиг орм
- Можете подсказать, как guards работают? Вот есть route 'login' ( @Post ), он получает request и возвращает request.body (содержащий name и password). На этот route навешен декоратор ( @UseGuards (LocalStrategyGuard)), в стратегии определён метод validate, принимающий name и password. Мне не понятно, на каком уровне происходит вызов validate и откуда этот метод получает параметры из запроса (эти параметры в запросе должны иметь точно такие же названия или как гард распознаёт их)?  async validate(name: string, password: string): Promise<any> { const user = await this.authService.validateUser(name, password); console.log('user: ', user); if (!user) { throw new UnauthorizedException(); } return user; } @UseGuards(LocalAuthGuard) @Post('login') async login(@Request() req) { return req.body; }

Main message:
ValidationPipe

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ValidationPipe

--

## My telegram message #72501
**Time:** 08.09.2020 11:56:32 UTC+05:00
**Link:** https://t.me/nest_ru/72501

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Подскажите плиз, линтер заругался, погуглив к решению не пришел
- Бывало как-то такое, обычно перезапуск IDE и сброс кэша помогает. Сравнил твой конфиг со своим, вроде как всё идентично.
- Што?
- Ребят,если использую гурард ауф по всему коду,лучше просто импортиь джтауфгурад и использовать его или класть в импортс и передавать везде в модули?

Main message:
лучше не использовать гард по всему коду

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

лучше не использовать гард по всему коду

--

## My telegram message #72506
**Time:** 08.09.2020 12:07:30 UTC+05:00
**Link:** https://t.me/nest_ru/72506

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Што?
- Ребят,если использую гурард ауф по всему коду,лучше просто импортиь джтауфгурад и использовать его или класть в импортс и передавать везде в модули?
- лучше не использовать гард по всему коду
- Подскажи пример декоратора который может отключить

Main message:
сам напиши

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

сам напиши

--

## My telegram message #72513
**Time:** 08.09.2020 13:42:50 UTC+05:00
**Link:** https://t.me/nest_ru/72513

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- лучше не использовать гард по всему коду
- Подскажи пример декоратора который может отключить
- сам напиши
- Привет! Подскажите, как сделал стратегию авторизации по-умолчанию? прописал в auth.module в imports: PassportModule.register({ defaultStrategy: 'bearer' }),

Main message:
не там пишешь

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

не там пишешь

--

## My telegram message #72518
**Time:** 08.09.2020 14:03:34 UTC+05:00
**Link:** https://t.me/nest_ru/72518

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- сам напиши
- Привет! Подскажите, как сделал стратегию авторизации по-умолчанию? прописал в auth.module в imports: PassportModule.register({ defaultStrategy: 'bearer' }),
- не там пишешь
- как у тебя интересно! Можно и в теле метода описывать импорты и прочее?! Я думал в теле декоратора  @Module

Main message:
попробуй простой пример сделать на новой чистом проекте, и если повторится залей на гитхаб, может я или кто другой поможет

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

попробуй простой пример сделать на новой чистом проекте, и если повторится залей на гитхаб, может я или кто другой поможет

--

## My telegram message #72541
**Time:** 08.09.2020 14:15:33 UTC+05:00
**Link:** https://t.me/nest_ru/72541

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- но тут .then как то стремно смотреться будет :)

Main message:
на rxjs можешь перейти, там нет вообще then)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

на rxjs можешь перейти, там нет вообще then)

--

## My telegram message #72543
**Time:** 08.09.2020 14:16:36 UTC+05:00
**Link:** https://t.me/nest_ru/72543

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Стремно будет когда у тебя на проде прилетит ошибка сервера :D А поставить ловушку что бы словить ошибку и записать в логи - это правильно.
- точняк. если же будет выброс исключения то на этом await и закончится
- на rxjs можешь перейти, там нет вообще then)
- Я как-то пробовал. Чет больше кода получалось. Хотя и прикольные моменты можно устраивать с потоком. У тебя было опыт (кроме нашего Angular) ?

Main message:
все на нем ща, и дома и на работе

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

все на нем ща, и дома и на работе

--

## My telegram message #72552
**Time:** 08.09.2020 16:22:52 UTC+05:00
**Link:** https://t.me/nest_ru/72552

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Подскажите еще. Где в несте хранят констатны, например варианты значений для базы. SATUS_ACTIVE = 1, STATUS_BLOCKED = 2 и так далее
- для не особо крупных проектов я в src/enums по файлам кидаю enum ы. в зависимости от того где они в основном юзаются. А так по хорошему в модулях рядом с дто/сущностями в отдельной папке бы. Но энамы/константы юзаются не в 1 модуле, почему и выношу в общак
- Поделитесь мыслями: Микросервисы можно реализовать поверх кучи всяких решений (tcp, nats...), а можно через queuesl (bull). Бул дает возможность отслеживать успешность выполнения задачи и еще много всего. Сейчас эксперементирую с разными вариантами. Можно использовать nats, но как то не прозрачно выходит, плюс если микросервис и вызывает другие, и самы вызывается повторно получает отправляемые ему события.... (глюк видимо). Кто использует bull вместо брокеров сообщений и почему?
- кстати класс валидатор портанули на дарт)  https://github.com/ykmnkmi/validator.dart/blob/master/example/example.dart

Main message:
опять ошибки в код вшиты(

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

опять ошибки в код вшиты(

--

## My telegram message #72557
**Time:** 08.09.2020 16:41:58 UTC+05:00
**Link:** https://t.me/nest_ru/72557

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Поделитесь мыслями: Микросервисы можно реализовать поверх кучи всяких решений (tcp, nats...), а можно через queuesl (bull). Бул дает возможность отслеживать успешность выполнения задачи и еще много всего. Сейчас эксперементирую с разными вариантами. Можно использовать nats, но как то не прозрачно выходит, плюс если микросервис и вызывает другие, и самы вызывается повторно получает отправляемые ему события.... (глюк видимо). Кто использует bull вместо брокеров сообщений и почему?
- кстати класс валидатор портанули на дарт)  https://github.com/ykmnkmi/validator.dart/blob/master/example/example.dart
- опять ошибки в код вшиты(
- Всем привет

Main message:
посмотри код страницы свагера

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

посмотри код страницы свагера

--

## My telegram message #72566
**Time:** 08.09.2020 17:22:12 UTC+05:00
**Link:** https://t.me/nest_ru/72566

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Всем привет
- посмотри код страницы свагера
- всё нашёл
- Подскажите, как сделать что бы UserService можно было везде юзать не подключая в провайдеры в каждом модуле?

Main message:
модуль  @Global сделай с этим сервисом

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

модуль  @Global сделай с этим сервисом

--

## My telegram message #72571
**Time:** 08.09.2020 17:37:59 UTC+05:00
**Link:** https://t.me/nest_ru/72571

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- всё нашёл
- Подскажите, как сделать что бы UserService можно было везде юзать не подключая в провайдеры в каждом модуле?
- модуль  @Global сделай с этим сервисом
- я просто пытаюсь сейчас сделать так, что бы из любого места я мог извлечь id текущего юзера

Main message:
оно не нужно, когда начнешь модули изолировано делать у тебя каждый модуль будет принимать свой вариант юзеров только с необходимыми полями, ну ты тока в самом начале пути, можешь через глобал расшарить как вариант, ну сервис который со скоупом отьедает память

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

оно не нужно, когда начнешь модули изолировано делать у тебя каждый модуль будет принимать свой вариант юзеров только с необходимыми полями, ну ты тока в самом начале пути, можешь через глобал расшарить как вариант, ну сервис который со скоупом отьедает память

--

## My telegram message #72576
**Time:** 08.09.2020 18:34:39 UTC+05:00
**Link:** https://t.me/nest_ru/72576

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- "оно не нужно, когда начнешь модули изолировано делать у тебя каждый модуль будет принимать свой вариант юзеров только с необходимыми полями" тут не понятно. Ну есть соединение. Мне нужно узнать что это за юзер. я знаю что он мне передал в заголовке токен. Почему разные юзеры?

Main message:
для разных отделов свои юзеры, например админы заводят емайл логин и пасс, отдел кадров вяжет к емайлу фио и др и им похер на пароль и водителям которые развозят людей вообще фотка нужна чтобы понять, разные модули не используют прям всю сущность юзера, у каждого моудля свой юзер

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

для разных отделов свои юзеры, например админы заводят емайл логин и пасс, отдел кадров вяжет к емайлу фио и др и им похер на пароль и водителям которые развозят людей вообще фотка нужна чтобы понять, разные модули не используют прям всю сущность юзера, у каждого моудля свой юзер

--

## My telegram message #72590
**Time:** 08.09.2020 19:37:21 UTC+05:00
**Link:** https://t.me/nest_ru/72590

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- У меня в одном проекте ещё веселее. Одному профилю можно привязать несколько логинов. Тип один пользователь, но на логины могут быть разные доступы. В итоге один может заявки создавать, другой статусы менять

Main message:
Это обычно группами юзеров решается, ну похожий кейс видел да когда два логина)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Это обычно группами юзеров решается, ну похожий кейс видел да когда два логина)

--

## My telegram message #72593
**Time:** 08.09.2020 22:39:32 UTC+05:00
**Link:** https://t.me/nest_ru/72593

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- В PHP(Zend например) есть DI контейнер, там можно из него все тащить. Если нужен DI, то он в несте присутствует, но можно и другой взять. Например,  Inversify
- Это обычно группами юзеров решается, ну похожий кейс видел да когда два логина)
- Ну по факту фича не очень используется, но сделали
- Написал свою первую функцию в базе. Прикольная шутка я вам скажу, а работает вообще капец быстро

Main message:
оттуда и курсор можно возвращать, джойны с переменными делать не на бэке а в базе, короче бэк просто прослойка которая запускает хранимые процедуры базы, вся логика в самой базе, каждый бэкер раз в жизни должен пописать тонну хранимок)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

оттуда и курсор можно возвращать, джойны с переменными делать не на бэке а в базе, короче бэк просто прослойка которая запускает хранимые процедуры базы, вся логика в самой базе, каждый бэкер раз в жизни должен пописать тонну хранимок)

--

## My telegram message #72596
**Time:** 08.09.2020 23:34:26 UTC+05:00
**Link:** https://t.me/nest_ru/72596

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Только увлекаться с хранимками не стоит, если сервер бд слабоват, то обилие хранимок приведут к повышенной нагрузке

Main message:
Эт было давно, ща век авс лямбда и микросервисов

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Эт было давно, ща век авс лямбда и микросервисов

--

## My telegram message #72626
**Time:** 09.09.2020 12:14:38 UTC+05:00
**Link:** https://t.me/nest_ru/72626

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- https://docs.nestjs.com/techniques/mongodb#testing
- Ну ьам скорее всего имелось ввиду MongoModule.forRoot(process.env.SOME_CONNECTION_STRING)
- для тестирование можно замокать бд и возвращать ожидаемый результат
- я тут понял, что у меня все таки есть запись в бд. при гете апдейдится счетчик. сейчас я сверяю респонс с замоканным массивом, но тест фейлится, потому что апдейт счетчика выполняет сервис другого модуля

Main message:
два вида тестов, юниты и интеграционные, юниты то что в рамках твоего модуля и сервисов, ничего внешнего там не участвует, интеграционные это уже связь с другими там можно прям весь модуль циликом импортнуть а не кусочки

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

два вида тестов, юниты и интеграционные, юниты то что в рамках твоего модуля и сервисов, ничего внешнего там не участвует, интеграционные это уже связь с другими там можно прям весь модуль циликом импортнуть а не кусочки

--

## My telegram message #72646
**Time:** 09.09.2020 13:57:49 UTC+05:00
**Link:** https://t.me/nest_ru/72646

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Но безопаснее считается не хранить такие секретные данные просто файлом на сервере, а передавать при запуске как честно переменную окружения
- ну вот я сейчас его продублировал в дист и запустил node main.js
- В дист не надо
- ааа, въехал! это вот эта херняь export TESTKEY=123

Main message:
Нет) не угадал

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Нет) не угадал

--

## My telegram message #72655
**Time:** 09.09.2020 14:49:53 UTC+05:00
**Link:** https://t.me/nest_ru/72655

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Будет ли валидироваться UpdateRole если в дто UpdateRole - это интерфейс?  @ValidateNested ({each: true}) readonly rolesRemoved: UpdateRole[];

Main message:
Не будет, мета даты так как нету

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Не будет, мета даты так как нету

--

## My telegram message #72660
**Time:** 09.09.2020 14:53:28 UTC+05:00
**Link:** https://t.me/nest_ru/72660

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- То есть так уже будет?  @ValidateNested ({each: true})  @Type (() => UpdateRole) readonly rolesRemoved: UpdateRole[];

Main message:
Не будет, интерфейсов не существует не к чему привязать мета дату, у тя декораторы в упдайт роле есть? Ты хочешь его поля валидировать или что

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Не будет, интерфейсов не существует не к чему привязать мета дату, у тя декораторы в упдайт роле есть? Ты хочешь его поля валидировать или что

--

## My telegram message #72662
**Time:** 09.09.2020 14:57:01 UTC+05:00
**Link:** https://t.me/nest_ru/72662

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- @IsIn () ещё добавь
- То есть так уже будет?  @ValidateNested ({each: true})  @Type (() => UpdateRole) readonly rolesRemoved: UpdateRole[];
- Не будет, интерфейсов не существует не к чему привязать мета дату, у тя декораторы в упдайт роле есть? Ты хочешь его поля валидировать или что
- ясно, то есть надо дто на каждый обект который надо валидировать

Main message:
Да, тонны дто надо

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Да, тонны дто надо

--

## My telegram message #72668
**Time:** 09.09.2020 17:27:32 UTC+05:00
**Link:** https://t.me/nest_ru/72668

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
как вариант  https://docs.nestjs.com/techniques/database#custom-repository

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

как вариант  https://docs.nestjs.com/techniques/database#custom-repository

--

## My telegram message #72751
**Time:** 10.09.2020 16:57:49 UTC+05:00
**Link:** https://t.me/nest_ru/72751

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Чуть выше было обсуждение подобной проблемы
- А можно посмотреть этот модуль, если он не приватный?
- он в приватной монорепе организации
- Подскажите, как в class-validator проверить дату по шаблону yyy-mm-dd?

Main message:
там есть матч для регуоярок вроде

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

там есть матч для регуоярок вроде

--

