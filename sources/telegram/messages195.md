## My telegram message #211312
**Time:** 09.01.2023 23:30:40 UTC+05:00
**Link:** https://t.me/nest_ru/211312

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- бля, читали лол?  https://habr.com/ru/post/709516/ чувак джуна пытался заставить запилить, чтобы нест не падал, если редис отъебывает :D

Main message:
сегодня во флуде обсуждали уже)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

сегодня во флуде обсуждали уже)

--

## My telegram message #211315
**Time:** 09.01.2023 23:31:46 UTC+05:00
**Link:** https://t.me/nest_ru/211315

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Оказался во всем виноват создатель неста.

Main message:
заинтриговал, скоро добью таску и продолжу читать)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

заинтриговал, скоро добью таску и продолжу читать)

--

## My telegram message #211368
**Time:** 10.01.2023 05:21:26 UTC+05:00
**Link:** https://t.me/nest_ru/211368

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Тут сет тайм-аут и запрос к Бэку сработают одновременно даже сет таймаут может раньше отработать, оберни сет таймаут в промис, чтобы не было не Однозначного поведения, пусть код работает ровно, а не как копипаст который Школьник из хабра взял

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Тут сет тайм-аут и запрос к Бэку сработают одновременно даже сет таймаут может раньше отработать, оберни сет таймаут в промис, чтобы не было не Однозначного поведения, пусть код работает ровно, а не как копипаст который Школьник из хабра взял

--

## My telegram message #211380
**Time:** 10.01.2023 05:29:53 UTC+05:00
**Link:** https://t.me/nest_ru/211380

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Нельзя
- Понял, благодарю. Значит с папкой дело не пойдёт, судя по всему.
- Тут сет тайм-аут и запрос к Бэку сработают одновременно даже сет таймаут может раньше отработать, оберни сет таймаут в промис, чтобы не было не Однозначного поведения, пусть код работает ровно, а не как копипаст который Школьник из хабра взял
- у тебя 1 NProgress на все инстанты компонента?

Main message:
Я думаю нужно всё же сет таймаут сделать чтобы он последовательно фетчу работал

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Я думаю нужно всё же сет таймаут сделать чтобы он последовательно фетчу работал

--

## My telegram message #211398
**Time:** 10.01.2023 05:33:41 UTC+05:00
**Link:** https://t.me/nest_ru/211398

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Понял, благодарю. Значит с папкой дело не пойдёт, судя по всему.
- Тут сет тайм-аут и запрос к Бэку сработают одновременно даже сет таймаут может раньше отработать, оберни сет таймаут в промис, чтобы не было не Однозначного поведения, пусть код работает ровно, а не как копипаст который Школьник из хабра взял
- у тебя 1 NProgress на все инстанты компонента?
- Я думаю нужно всё же сет таймаут сделать чтобы он последовательно фетчу работал

Main message:
Как?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Как?

--

## My telegram message #211402
**Time:** 10.01.2023 05:34:59 UTC+05:00
**Link:** https://t.me/nest_ru/211402

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- у тебя 1 NProgress на все инстанты компонента?
- Я думаю нужно всё же сет таймаут сделать чтобы он последовательно фетчу работал
- Как?
- Ты покинул нашу родину?

Main message:
Оо

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Оо

--

## My telegram message #211405
**Time:** 10.01.2023 05:36:03 UTC+05:00
**Link:** https://t.me/nest_ru/211405

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Как?
- Ты покинул нашу родину?
- Оо
- Тебя не спрашиваю, ты просто мучаешься до 4х ночи))

Main message:
В итоге решил Николай задачу или нкт

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

В итоге решил Николай задачу или нкт

--

## My telegram message #211409
**Time:** 10.01.2023 05:37:05 UTC+05:00
**Link:** https://t.me/nest_ru/211409

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Оо
- Тебя не спрашиваю, ты просто мучаешься до 4х ночи))
- В итоге решил Николай задачу или нкт
- Удалил все что сделал, и сделал по другому.

Main message:
О спс, пойду спать, чета уже вставать через 4 часа

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

О спс, пойду спать, чета уже вставать через 4 часа

--

## My telegram message #211414
**Time:** 10.01.2023 05:38:27 UTC+05:00
**Link:** https://t.me/nest_ru/211414

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- В итоге решил Николай задачу или нкт
- Удалил все что сделал, и сделал по другому.
- О спс, пойду спать, чета уже вставать через 4 часа
- Ну у тебя же люди есть специальные, чтобы они до 4х мучались. Сам то чего

Main message:
Первый рабочий день, чета енергии до жопы было, вот и понесло

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Первый рабочий день, чета енергии до жопы было, вот и понесло

--

## My telegram message #211737
**Time:** 11.01.2023 15:36:45 UTC+05:00
**Link:** https://t.me/nest_ru/211737

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- запросы которые оч долгие это проблема не только в скорости но и при выводе в продакшен ты можешь столкнуться с тем что у твоего приложения не хватит памяти
- 226кб
- а сам запрос показать можешь?
- Ты можешь взять perf_hooks, расставить метки в node_modules и посмотреть что занимает больше всего времени

Main message:
Индексы на всё поля есть, и у тя походу кэш юзается в бд

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Индексы на всё поля есть, и у тя походу кэш юзается в бд

--

## My telegram message #211739
**Time:** 11.01.2023 15:36:54 UTC+05:00
**Link:** https://t.me/nest_ru/211739

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- а сам запрос показать можешь?
- Ты можешь взять perf_hooks, расставить метки в node_modules и посмотреть что занимает больше всего времени
- Индексы на всё поля есть, и у тя походу кэш юзается в бд
- все что в он и вер должно иметь индексы

Main message:
Много раз пускани в БД напрямую

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Много раз пускани в БД напрямую

--

## My telegram message #211742
**Time:** 11.01.2023 15:38:05 UTC+05:00
**Link:** https://t.me/nest_ru/211742

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Че за индекс по дате)?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Че за индекс по дате)?

--

## My telegram message #211746
**Time:** 11.01.2023 15:38:40 UTC+05:00
**Link:** https://t.me/nest_ru/211746

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Много раз пускани в БД напрямую
- запрос на 500 строк конечно такое себе решение
- Че за индекс по дате)?
- а когда руками дергаешь он в кеше сидит в бд и относительно быстро

Main message:
Ну я и спрашиваю, разве есть индекс на даты

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Ну я и спрашиваю, разве есть индекс на даты

--

## My telegram message #211749
**Time:** 11.01.2023 15:38:56 UTC+05:00
**Link:** https://t.me/nest_ru/211749

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Не должно

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Не должно

--

## My telegram message #211752
**Time:** 11.01.2023 15:39:31 UTC+05:00
**Link:** https://t.me/nest_ru/211752

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- а когда руками дергаешь он в кеше сидит в бд и относительно быстро
- Ну я и спрашиваю, разве есть индекс на даты
- Не должно
- иначе оно реально вместо милисек будет еле шуршать

Main message:
Может там таймстамп а не дата

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Может там таймстамп а не дата

--

## My telegram message #211756
**Time:** 11.01.2023 15:39:58 UTC+05:00
**Link:** https://t.me/nest_ru/211756

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Так он же сказал, что этот же самый sql запрос работает в разы быстрее, чем если через getMany (по его словам там тот же самый запрос). Не в этом суть, разве?

Main message:
Кэш бд

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Кэш бд

--

## My telegram message #211768
**Time:** 11.01.2023 15:42:12 UTC+05:00
**Link:** https://t.me/nest_ru/211768

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- второй 2сек

Main message:
У тя до конца все данные тут или часть?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

У тя до конца все данные тут или часть?

--

## My telegram message #211771
**Time:** 11.01.2023 15:42:29 UTC+05:00
**Link:** https://t.me/nest_ru/211771

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Согласен
- У тя до конца все данные тут или часть?
- Нужные страницы в буфер выгрузить при первом запросе, при последующих будет их перечитывать. А у него вроде проблема в том, что всегда одинаковый результат
- 500

Main message:
Ну

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Ну

--

## My telegram message #211774
**Time:** 11.01.2023 15:42:46 UTC+05:00
**Link:** https://t.me/nest_ru/211774

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Нужные страницы в буфер выгрузить при первом запросе, при последующих будет их перечитывать. А у него вроде проблема в том, что всегда одинаковый результат
- 500
- Ну
- Нет

Main message:
Привет лимит

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Привет лимит

--

## My telegram message #211777
**Time:** 11.01.2023 15:43:23 UTC+05:00
**Link:** https://t.me/nest_ru/211777

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
В запросе нет лимит

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

В запросе нет лимит

--

## My telegram message #211780
**Time:** 11.01.2023 15:44:07 UTC+05:00
**Link:** https://t.me/nest_ru/211780

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Привет лимит
- Там тоже 500
- В запросе нет лимит
- Это в пагинации вшито

Main message:
И че

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

И че

--

## My telegram message #211855
**Time:** 12.01.2023 09:53:08 UTC+05:00
**Link:** https://t.me/nest_ru/211855

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
лучше сразу так сделай  https://t.me/nest_ru/211851

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

лучше сразу так сделай  https://t.me/nest_ru/211851

--

## My telegram message #211857
**Time:** 12.01.2023 09:54:17 UTC+05:00
**Link:** https://t.me/nest_ru/211857

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Попробуй создать процедуру на postgres pl/SQL для этой операции. Одновременно блок, запись, анблок. Но мне кажется проблема во времени записи. Профилируй запросы, может где-то тормозит выборка
- Явно блокировка тормозит тк при ее удалении скорость увеличивается до 300+ запросов. Но результаты неверные из за конкурентного доступа, резерв начинает превышать баланс что ведет к отрицательному балансу (( Создание позиции я делаю в одной транзакции как ты и сказал
- лучше сразу так сделай  https://t.me/nest_ru/211851
- Вы имеете ввиду написать функцию в базе которая этим будет заведовать ?

Main message:
если не сейчас, но ты все равно придешь к этому просто через месяц рефакторинга и увеличения мощностей в базе данных и будет прост новый потолок, не 100 а 1000

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

если не сейчас, но ты все равно придешь к этому просто через месяц рефакторинга и увеличения мощностей в базе данных и будет прост новый потолок, не 100 а 1000

--

## My telegram message #211861
**Time:** 12.01.2023 09:57:14 UTC+05:00
**Link:** https://t.me/nest_ru/211861

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- лучше сразу так сделай  https://t.me/nest_ru/211851
- Вы имеете ввиду написать функцию в базе которая этим будет заведовать ?
- если не сейчас, но ты все равно придешь к этому просто через месяц рефакторинга и увеличения мощностей в базе данных и будет прост новый потолок, не 100 а 1000
- Я даже не знал что есть разница в скорости при вызове через функцию в базе или запросом

Main message:
вся логика которую ты делаешь которая происходит в момент блокировки ее перенести в базу, у тя не будет уходить время на получение данных по сети из базы и отправку в базу

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

вся логика которую ты делаешь которая происходит в момент блокировки ее перенести в базу, у тя не будет уходить время на получение данных по сети из базы и отправку в базу

--

## My telegram message #211868
**Time:** 12.01.2023 10:05:59 UTC+05:00
**Link:** https://t.me/nest_ru/211868

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
есть такая штука, редис лок, ты можешь заморозить изменение баланса, так как у тя могут две операции сразу пытатся получить баланс чтобы чета с минусовать, просто вторая операция или подвиснет или упадет с ошибкой, главное не будет овердрафта

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

есть такая штука, редис лок, ты можешь заморозить изменение баланса, так как у тя могут две операции сразу пытатся получить баланс чтобы чета с минусовать, просто вторая операция или подвиснет или упадет с ошибкой, главное не будет овердрафта

--

## My telegram message #211871
**Time:** 12.01.2023 10:15:05 UTC+05:00
**Link:** https://t.me/nest_ru/211871

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- вся логика которую ты делаешь которая происходит в момент блокировки ее перенести в базу, у тя не будет уходить время на получение данных по сети из базы и отправку в базу
- Я тоже думал суммарный баланс вытащить в редис, сейчас он у меня в таб аккаунтов лежит. Надо попробовать
- есть такая штука, редис лок, ты можешь заморозить изменение баланса, так как у тя могут две операции сразу пытатся получить баланс чтобы чета с минусовать, просто вторая операция или подвиснет или упадет с ошибкой, главное не будет овердрафта
- Я ее использую при закрытии позиции. Чтобы 2 раза не закрыть одно и тоже. Когда прилетают обновления цены с биржи

Main message:
я когда пилю всегда думаю как это будет работать при 100тыщ запросов онлайн в один момент на разные ендпойнты бэка

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я когда пилю всегда думаю как это будет работать при 100тыщ запросов онлайн в один момент на разные ендпойнты бэка

--

## My telegram message #211874
**Time:** 12.01.2023 10:20:02 UTC+05:00
**Link:** https://t.me/nest_ru/211874

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- есть такая штука, редис лок, ты можешь заморозить изменение баланса, так как у тя могут две операции сразу пытатся получить баланс чтобы чета с минусовать, просто вторая операция или подвиснет или упадет с ошибкой, главное не будет овердрафта
- Я ее использую при закрытии позиции. Чтобы 2 раза не закрыть одно и тоже. Когда прилетают обновления цены с биржи
- я когда пилю всегда думаю как это будет работать при 100тыщ запросов онлайн в один момент на разные ендпойнты бэка
- Ты смотришь на скорость или просто выдержит нет ?

Main message:
пишу монолит модульный и его скейлю, тяжелые логики в мс и дергаю через  https://docs.nestjs.com/microservices/nats#request-response NATS streaming ( https://github.com/nats-io/stan.js ) для очередей через это делаю  https://docs.nestjs.com/microservices/nats#queue-groups

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

пишу монолит модульный и его скейлю, тяжелые логики в мс и дергаю через  https://docs.nestjs.com/microservices/nats#request-response NATS streaming ( https://github.com/nats-io/stan.js ) для очередей через это делаю  https://docs.nestjs.com/microservices/nats#queue-groups

--

## My telegram message #211904
**Time:** 12.01.2023 16:01:11 UTC+05:00
**Link:** https://t.me/nest_ru/211904

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
в шортах туда прийди зимой, точно запомнят, даже если не возьмут на работу

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

в шортах туда прийди зимой, точно запомнят, даже если не возьмут на работу

--

## My telegram message #212085
**Time:** 13.01.2023 18:03:40 UTC+05:00
**Link:** https://t.me/nest_ru/212085

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- @KaufmanEndy вот этот дед знает лучше всех в чате

Main message:
Вон Ваня уже вызвался, а дед занят вечно

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Вон Ваня уже вызвался, а дед занят вечно

--

## My telegram message #212112
**Time:** 13.01.2023 19:45:47 UTC+05:00
**Link:** https://t.me/nest_ru/212112

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Бан на один день, за дичь всякую)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Бан на один день, за дичь всякую)

--

