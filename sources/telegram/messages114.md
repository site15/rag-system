## My telegram message #117226
**Time:** 31.07.2021 14:14:28 UTC+05:00
**Link:** https://t.me/nest_ru/117226

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Ну производительность, регулярками длинную очень строку буду резать

Main message:
Я через черио паршу данные, о производительности вообще не думаю, задание на парсинг через очередь падает, в конце парсинга ложу в редис и кидаю в очередь событие что парсинг закончил, дальше уже следующая балалайка работает с этими данными

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Я через черио паршу данные, о производительности вообще не думаю, задание на парсинг через очередь падает, в конце парсинга ложу в редис и кидаю в очередь событие что парсинг закончил, дальше уже следующая балалайка работает с этими данными

--

## My telegram message #117229
**Time:** 31.07.2021 14:34:42 UTC+05:00
**Link:** https://t.me/nest_ru/117229

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ребят а то что у меня функции не  async и что норм работают запросы, это чем то чревато?
- Ну, кстати, это почти то, что мне нужно
- Я через черио паршу данные, о производительности вообще не думаю, задание на парсинг через очередь падает, в конце парсинга ложу в редис и кидаю в очередь событие что парсинг закончил, дальше уже следующая балалайка работает с этими данными
- Через очередь падает? Тип в рмк сендишь в какой то сервис и оно там само себе работает?

Main message:
Да

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Да

--

## My telegram message #117256
**Time:** 31.07.2021 15:43:52 UTC+05:00
**Link:** https://t.me/nest_ru/117256

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Интерцептор сериализации подруби, или свой напиши

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Интерцептор сериализации подруби, или свой напиши

--

## My telegram message #117259
**Time:** 31.07.2021 15:47:09 UTC+05:00
**Link:** https://t.me/nest_ru/117259

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Он умеет умно мапить?, типо User -> UserInfoDto User -> UserFullIfoDto Набор полей у дтошек разный (в инфо меньше чем в фулл)

Main message:
Порежет лишние

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Порежет лишние

--

## My telegram message #117263
**Time:** 31.07.2021 15:59:51 UTC+05:00
**Link:** https://t.me/nest_ru/117263

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Хорошо) спасибо

Main message:
Но есть и автомаппер можешь на него перевести все, тож самое что в шарпе, мне проходит на декораторах больше зашел чем конфиги автомапеера

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Но есть и автомаппер можешь на него перевести все, тож самое что в шарпе, мне проходит на декораторах больше зашел чем конфиги автомапеера

--

## My telegram message #117295
**Time:** 31.07.2021 20:25:16 UTC+05:00
**Link:** https://t.me/nest_ru/117295

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Всем привет Подскажите, пожалуйста Есть модуль, у которого есть forRoot, forFeature В CoreModule делаю forRoot и импортирую модуль, который делает forFeature. Но, forFeature срабатывает раньше. Из за чего? И как это можно пофиксить?

Main message:
Потому что он вложен) снизу вверх идемжеж

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Потому что он вложен) снизу вверх идемжеж

--

## My telegram message #117303
**Time:** 31.07.2021 20:28:37 UTC+05:00
**Link:** https://t.me/nest_ru/117303

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- а что лучше завести?)

Main message:
Это сложно пусть будет в коре базе)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Это сложно пусть будет в коре базе)

--

## My telegram message #117305
**Time:** 31.07.2021 20:29:50 UTC+05:00
**Link:** https://t.me/nest_ru/117305

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Это сложно пусть будет в коре базе)

Main message:
Представь что у тя есть диай и нет возможности наследовать, дальше мозг сам найдет решение

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Представь что у тя есть диай и нет возможности наследовать, дальше мозг сам найдет решение

--

## My telegram message #117321
**Time:** 31.07.2021 20:40:58 UTC+05:00
**Link:** https://t.me/nest_ru/117321

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Завтра кодить буду, ща не за компом, напомни скину пример, ну если сам не сможешь решить

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Завтра кодить буду, ща не за компом, напомни скину пример, ну если сам не сможешь решить

--

## My telegram message #117331
**Time:** 31.07.2021 21:30:29 UTC+05:00
**Link:** https://t.me/nest_ru/117331

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- When you want to provide a set of providers which should be available everywhere out-of-the-box (e.g., helpers, database connections, etc.), make the module global with the  @Global () decorator.

Main message:
Этой штукой злоупотребляют, не советую юзать глобал

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Этой штукой злоупотребляют, не советую юзать глобал

--

## My telegram message #117333
**Time:** 31.07.2021 21:32:09 UTC+05:00
**Link:** https://t.me/nest_ru/117333

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ну вот опять глобально разве не утяжелит размер файла жс?
- а что тебе дает вес приложения, он же на бекенде вертиться, ты его по сети не передаешь, не пойму вопрос...
- Этой штукой злоупотребляют, не советую юзать глобал
- +

Main message:
Надо книгу чтобы кто то написал про практики в ангулар и несте) может кто смогет

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Надо книгу чтобы кто то написал про практики в ангулар и несте) может кто смогет

--

## My telegram message #117341
**Time:** 31.07.2021 21:36:44 UTC+05:00
**Link:** https://t.me/nest_ru/117341

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Если разные фичи, я делаю сервис евентер на rxjs, он выстреливает когда удалили чет, кому надо тот подпишется и выполнит свои действия, но транзакций там нет, тож самое через очередь мс можно сделать, но опять нет транзакций

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Если разные фичи, я делаю сервис евентер на rxjs, он выстреливает когда удалили чет, кому надо тот подпишется и выполнит свои действия, но транзакций там нет, тож самое через очередь мс можно сделать, но опять нет транзакций

--

## My telegram message #117345
**Time:** 31.07.2021 21:38:04 UTC+05:00
**Link:** https://t.me/nest_ru/117345

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Добавить Домен?
- В одном сервисе юзай сколько надо сущностей.
- Если разные фичи, я делаю сервис евентер на rxjs, он выстреливает когда удалили чет, кому надо тот подпишется и выполнит свои действия, но транзакций там нет, тож самое через очередь мс можно сделать, но опять нет транзакций
- Интересно, у кого написано кроме доки что сервис в сервис нельзя?

Main message:
Фича модуль именно а не апликейшенн

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Фича модуль именно а не апликейшенн

--

## My telegram message #117351
**Time:** 31.07.2021 21:41:19 UTC+05:00
**Link:** https://t.me/nest_ru/117351

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Ну у меня тут не совсем DDD. Модули делятся примерно так: User, Product, Order. В определенном методе сервиса Product необходимо изменить еще и сущность Order. Варианта вижу два: либо инжектить сервис и нормально вызывать нужный метод сервиса Order, либо обойтись без вызова стороннего сервиса. Но тогда получается, что сервис Product слишком много знает про структуру Order, а это опять же плохо)

Main message:
Хороший пример, представь что у них разные базы данных и они на разных мс

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Хороший пример, представь что у них разные базы данных и они на разных мс

--

## My telegram message #117354
**Time:** 31.07.2021 21:46:27 UTC+05:00
**Link:** https://t.me/nest_ru/117354

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Вот именно. Даже в случае использования разных БД мне необходимы транзакции (требование бизнеса, без них тут никак, совсем). Поэтому: 1. В отдельном сервисе создаем транзакцию 2. Внутри транзакции (в блоке try...catch) дергаем сервисы сущностей 3. Сервисы сущностей знают, как выполнить запрос НО: придется передавать ссылку на connection, чтобы запросы выполнялись внутри транзакции, а не сами по себе

Main message:
Если бизнес хочет, значит одна база, одна фича

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Если бизнес хочет, значит одна база, одна фича

--

## My telegram message #117357
**Time:** 31.07.2021 21:48:13 UTC+05:00
**Link:** https://t.me/nest_ru/117357

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Хороший пример, представь что у них разные базы данных и они на разных мс
- Вот именно. Даже в случае использования разных БД мне необходимы транзакции (требование бизнеса, без них тут никак, совсем). Поэтому: 1. В отдельном сервисе создаем транзакцию 2. Внутри транзакции (в блоке try...catch) дергаем сервисы сущностей 3. Сервисы сущностей знают, как выполнить запрос НО: придется передавать ссылку на connection, чтобы запросы выполнялись внутри транзакции, а не сами по себе
- Если бизнес хочет, значит одна база, одна фича
- объясни, пожалуйста, немного подробнее, если не сложно

Main message:
Ну в ордер проникает продукт

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Ну в ордер проникает продукт

--

## My telegram message #117360
**Time:** 31.07.2021 21:52:27 UTC+05:00
**Link:** https://t.me/nest_ru/117360

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Если бизнес хочет, значит одна база, одна фича
- объясни, пожалуйста, немного подробнее, если не сложно
- Ну в ордер проникает продукт
- Ага. А есть способы от этого избавиться? Реальные, вот на банальном примере каком-нибудь. А то книжку Эванса я читал про DDD, но как это в реальности реализуется, чёт вообще представить не могу. Если состав заказа - это по-сути список продуктов, как можно предотвратить смешивание? Продукт ведь неотъемлемая часть заказа получается..

Main message:
У тя требование есть, транзакции

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

У тя требование есть, транзакции

--

## My telegram message #117393
**Time:** 31.07.2021 22:29:10 UTC+05:00
**Link:** https://t.me/nest_ru/117393

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Так, предположим, что есть какой-то кейс, связанный с продуктом, заказом, и юзером. Делаю под это дело сервис в модуле (каком? продукт? заказ? юзер?). Дергаю три таблицы оттуда. При этом юзер участвует еще где-то. Например, у него есть профиль. Под это дело тоже свой модуль со своими сервисами. А потом - херак! - изменилась структура/логика поведения сущности "юзер". И привет тому, кто это поддерживать должен, когда 50 модулей с 2500 сервисами обращаются ко всем таблицам вперемешку

Main message:
У ордера нет инфы про юзера, там просто есть clientId без привязки к юзеру авторизации, для него просто в токене был некий  request.user.id

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

У ордера нет инфы про юзера, там просто есть clientId без привязки к юзеру авторизации, для него просто в токене был некий  request.user.id

--

## My telegram message #117396
**Time:** 31.07.2021 22:29:50 UTC+05:00
**Link:** https://t.me/nest_ru/117396

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- На практике вижу что DDD это миф. А самое важное что бы код был понятным и практичным. Это не про фреймворки вообще.
- Не, ну раз ты на практике видишь, что это миф - это конечно аргумент) А я и не говорил, что фреймворк определяет архитектуру. Я говорю, что нест её предлагает, а уж что с ней делать решать пользователю
- У ордера нет инфы про юзера, там просто есть clientId без привязки к юзеру авторизации, для него просто в токене был некий  request.user.id
- нест определяет архитектуру но расположение файлов стандартизировать не может...

Main message:
Но не связан с сущностью продукт

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Но не связан с сущностью продукт

--

## My telegram message #117398
**Time:** 31.07.2021 22:32:37 UTC+05:00
**Link:** https://t.me/nest_ru/117398

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Но не связан с сущностью продукт

Main message:
Если ордеру нужна часть инфы по продукту он шарит наружу абстракный класс которые с апп модуль докидывает эту связь, для конкретной части продукта

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Если ордеру нужна часть инфы по продукту он шарит наружу абстракный класс которые с апп модуль докидывает эту связь, для конкретной части продукта

--

## My telegram message #117416
**Time:** 01.08.2021 10:51:06 UTC+05:00
**Link:** https://t.me/nest_ru/117416

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- мимо проходил, не понял идею.. есть юзер, у которого скидка за лояльность, например есть товары с акционной скидкой так кто у нас считает итоговую сумму по заказу? контроллер?

Main message:
При отображении товара в магазе, список товаров для каждого товара запрашивает из мультидиай все сервисы по токену PRODUCT_DISCOUNT и у данных сервисов есть метод calculate метод в который пере даем ид юзера, сумму товара На что каждый из многих сервисов отдает сумму скидок, эти суммы складываем и отнимаем эту сумму от общей суммы продукта и кидаем на фронт и три цифры сумма продукта, сумма со скидкой, сумма скидки А вот откуда берутся скидки продукты не знают, Модуль акций реализацию кидает для PRODUCT_DISCOUNT Модуль аккаунт профиля тоже кидает реализацию для PRODUCT_DISCOUNT Или можно с уровня приложения кинуть обе эти реализации которые будут эти модули юзать, в таком виде модуль акций и модуль профиля не будут знать о продукт модуле

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

При отображении товара в магазе, список товаров для каждого товара запрашивает из мультидиай все сервисы по токену PRODUCT_DISCOUNT и у данных сервисов есть метод calculate метод в который пере даем ид юзера, сумму товара На что каждый из многих сервисов отдает сумму скидок, эти суммы складываем и отнимаем эту сумму от общей суммы продукта и кидаем на фронт и три цифры сумма продукта, сумма со скидкой, сумма скидки А вот откуда берутся скидки продукты не знают, Модуль акций реализацию кидает для PRODUCT_DISCOUNT Модуль аккаунт профиля тоже кидает реализацию для PRODUCT_DISCOUNT Или можно с уровня приложения кинуть обе эти реализации которые будут эти модули юзать, в таком виде модуль акций и модуль профиля не будут знать о продукт модуле

--

## My telegram message #117437
**Time:** 01.08.2021 18:23:32 UTC+05:00
**Link:** https://t.me/nest_ru/117437

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
они таким образом делают конфиг переданный в глобал общедоступным между сервис репозиториями, я так понял

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

они таким образом делают конфиг переданный в глобал общедоступным между сервис репозиториями, я так понял

--

## My telegram message #117440
**Time:** 01.08.2021 18:28:48 UTC+05:00
**Link:** https://t.me/nest_ru/117440

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Привет Можешь, пожалуйста, скинуть пример? Я сделал как в Typeorm. Но, они там используют  @Global на TypeormCoreModule и мне непонятно, зачем тогда вообще нужен forFeature. Т.к. если ты его один раз заимпортируешь в свое приложение, то он будет доступен во всех модулях (даже вложенных) forFeature только для доп.настроек ?
- Существует какое-то решение для задачи запустить множество асинхронных функций и настроить между ними зависимости? Чтобы по умолчанию они все запускались как будто в Promise.all, но если функция зависит от другой, то она ждала. Не хочу писать велосипед.
- они таким образом делают конфиг переданный в глобал общедоступным между сервис репозиториями, я так понял
- Да. Мне так и нужно Что бы конфиги прокинутые через forRoot были в модуле импортированным через forFeature

Main message:
Глобал повсюду будет доступен, я кастомный инжектор свой юзаю, чтобы выдернуть в форе фича конфиг который докинули с форрут

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Глобал повсюду будет доступен, я кастомный инжектор свой юзаю, чтобы выдернуть в форе фича конфиг который докинули с форрут

--

## My telegram message #117465
**Time:** 01.08.2021 23:21:53 UTC+05:00
**Link:** https://t.me/nest_ru/117465

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- У меня маленькие кусочки, 5 табличек всего лишь
- Как по мне, лучше взять какую-нибудь библиотеку, которая превратит твой HTML в DOM-объект и работать с ним как в браузере. Типа  https://www.npmjs.com/package/jsdom
- Я так уже и напил, сидел часов 5 тыкался с регулярками(((
- Я вернулся)

Main message:
$('table').map(table=>$(table.innerHtml)) на  https://cheerio.js.org/ тип того нужно всего лишь писать, хз в чем прикол мутить свои костыли

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

$('table').map(table=>$(table.innerHtml)) на  https://cheerio.js.org/ тип того нужно всего лишь писать, хз в чем прикол мутить свои костыли

--

## My telegram message #117469
**Time:** 01.08.2021 23:24:13 UTC+05:00
**Link:** https://t.me/nest_ru/117469

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Я так уже и напил, сидел часов 5 тыкался с регулярками(((
- Я вернулся)
- $('table').map(table=>$(table.innerHtml)) на  https://cheerio.js.org/ тип того нужно всего лишь писать, хз в чем прикол мутить свои костыли
- Босс, если это работает, то я укушу себя 30 раз

Main message:
ну все парсят в ноде хтмл сайты через черио, в питоне тоже аналог есть, там также делал

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну все парсят в ноде хтмл сайты через черио, в питоне тоже аналог есть, там также делал

--

## My telegram message #117471
**Time:** 01.08.2021 23:28:10 UTC+05:00
**Link:** https://t.me/nest_ru/117471

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- $('table').map(table=>$(table.innerHtml)) на  https://cheerio.js.org/ тип того нужно всего лишь писать, хз в чем прикол мутить свои костыли
- Босс, если это работает, то я укушу себя 30 раз
- ну все парсят в ноде хтмл сайты через черио, в питоне тоже аналог есть, там также делал
- А можно писать без $ или это стандарт?

Main message:
как тебе удобно, это типа jquery в nodejs же, чтобы привычнее было поэтому $

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

как тебе удобно, это типа jquery в nodejs же, чтобы привычнее было поэтому $

--

## My telegram message #117473
**Time:** 01.08.2021 23:30:30 UTC+05:00
**Link:** https://t.me/nest_ru/117473

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ну все парсят в ноде хтмл сайты через черио, в питоне тоже аналог есть, там также делал
- А можно писать без $ или это стандарт?
- как тебе удобно, это типа jquery в nodejs же, чтобы привычнее было поэтому $
- понял, пасибачки, ща протещу

Main message:
можно и модифицировать если что хтмл, а не тока парсить  https://github.com/rucken/rucken.ru/blob/develop/scripts/version-writer.ts#L25

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

можно и модифицировать если что хтмл, а не тока парсить  https://github.com/rucken/rucken.ru/blob/develop/scripts/version-writer.ts#L25

--

## My telegram message #117479
**Time:** 01.08.2021 23:47:20 UTC+05:00
**Link:** https://t.me/nest_ru/117479

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- А можно писать без $ или это стандарт?
- как тебе удобно, это типа jquery в nodejs же, чтобы привычнее было поэтому $
- понял, пасибачки, ща протещу
- можно и модифицировать если что хтмл, а не тока парсить  https://github.com/rucken/rucken.ru/blob/develop/scripts/version-writer.ts#L25

Main message:
ну это псевдокод был

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну это псевдокод был

--

## My telegram message #117483
**Time:** 01.08.2021 23:48:59 UTC+05:00
**Link:** https://t.me/nest_ru/117483

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- понял, пасибачки, ща протещу
- можно и модифицировать если что хтмл, а не тока парсить  https://github.com/rucken/rucken.ru/blob/develop/scripts/version-writer.ts#L25
- ну это псевдокод был
- Все равно

Main message:
у него тайпинги встроенные же, он тоже на тс  https://github.com/cheeriojs/cheerio/blob/main/package.json#L28

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

у него тайпинги встроенные же, он тоже на тс  https://github.com/cheeriojs/cheerio/blob/main/package.json#L28

--

## My telegram message #117487
**Time:** 02.08.2021 01:13:28 UTC+05:00
**Link:** https://t.me/nest_ru/117487

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Все равно
- у него тайпинги встроенные же, он тоже на тс  https://github.com/cheeriojs/cheerio/blob/main/package.json#L28
- Я посмотрю всё точнее и вернусь
- Получается мне нужно себя укусить)

Main message:
))

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

))

--

## My telegram message #117501
**Time:** 02.08.2021 11:03:38 UTC+05:00
**Link:** https://t.me/nest_ru/117501

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Утро доброе,помогите пожалуйста с переменной окружения, я уже запарился. Как использовать переменную окружения в контролере? Они успешно работают в сервисах, но в котролере они не доступны В главном модуле я уже прописал: app.module.ts  ConfigModule.forRoot({ isGlobal: true }),

Main message:
Это же не контроллер, конекст другой

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Это же не контроллер, конекст другой

--

## My telegram message #117508
**Time:** 02.08.2021 11:33:45 UTC+05:00
**Link:** https://t.me/nest_ru/117508

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Это его субъективное мнение, многие не согласятся насчет ConfigModule)

Main message:
ну я советую самим докидывать все, через свои конфиги  https://t.me/nest_ru/117438  import { CHAT_DEFAULT_USERS } from '../chat-constants/chat-default-users'; export const CHAT_CONFIG = 'CHAT_CONFIG'; export interface ChatConfig { domain: string; chatDefaultUsers?: typeof CHAT_DEFAULT_USERS; } и не юзать конфиг модуль никогда

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну я советую самим докидывать все, через свои конфиги  https://t.me/nest_ru/117438  import { CHAT_DEFAULT_USERS } from '../chat-constants/chat-default-users'; export const CHAT_CONFIG = 'CHAT_CONFIG'; export interface ChatConfig { domain: string; chatDefaultUsers?: typeof CHAT_DEFAULT_USERS; } и не юзать конфиг модуль никогда

--

## My telegram message #117512
**Time:** 02.08.2021 11:59:06 UTC+05:00
**Link:** https://t.me/nest_ru/117512

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Это его субъективное мнение, многие не согласятся насчет ConfigModule)
- Да я понимаю это, но я уже реально запарился с .env) Если у кого, то будут ещё какие то решения данной проблемы, я буду только рад
- ну я советую самим докидывать все, через свои конфиги  https://t.me/nest_ru/117438  import { CHAT_DEFAULT_USERS } from '../chat-constants/chat-default-users'; export const CHAT_CONFIG = 'CHAT_CONFIG'; export interface ChatConfig { domain: string; chatDefaultUsers?: typeof CHAT_DEFAULT_USERS; } и не юзать конфиг модуль никогда
- Проблема в том, что меня за такое сисадмин запинает) Такой вариант не катит)

Main message:
типа сложно не понятно?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

типа сложно не понятно?

--

## My telegram message #117515
**Time:** 02.08.2021 12:22:28 UTC+05:00
**Link:** https://t.me/nest_ru/117515

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ну я советую самим докидывать все, через свои конфиги  https://t.me/nest_ru/117438  import { CHAT_DEFAULT_USERS } from '../chat-constants/chat-default-users'; export const CHAT_CONFIG = 'CHAT_CONFIG'; export interface ChatConfig { domain: string; chatDefaultUsers?: typeof CHAT_DEFAULT_USERS; } и не юзать конфиг модуль никогда
- Проблема в том, что меня за такое сисадмин запинает) Такой вариант не катит)
- типа сложно не понятно?
- Да нет, просто когда в рантайме нужно подменять конфиги в зависимости от окружения - будет слишком оверхеда дохера

Main message:
ну конкретно тут зашит путь в енв и не подменяется в рантайм

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну конкретно тут зашит путь в енв и не подменяется в рантайм

--

## My telegram message #117517
**Time:** 02.08.2021 12:23:51 UTC+05:00
**Link:** https://t.me/nest_ru/117517

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- типа сложно не понятно?
- Да нет, просто когда в рантайме нужно подменять конфиги в зависимости от окружения - будет слишком оверхеда дохера
- ну конкретно тут зашит путь в енв и не подменяется в рантайм
- Ну да, а если нужна подмена то будь добр в модуле указывай подгрузку в зависимости от NODE_ENV нужного конфига каждый раз

Main message:
для рантайм былобы вот так FIleLoaderModule.forRoot({storagePathEnvKey: 'PATH_FILES'}) и эта штука сама будет ходить при необходимости в енв

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

для рантайм былобы вот так FIleLoaderModule.forRoot({storagePathEnvKey: 'PATH_FILES'}) и эта штука сама будет ходить при необходимости в енв

--

## My telegram message #117523
**Time:** 02.08.2021 12:27:05 UTC+05:00
**Link:** https://t.me/nest_ru/117523

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ну конкретно тут зашит путь в енв и не подменяется в рантайм
- Ну да, а если нужна подмена то будь добр в модуле указывай подгрузку в зависимости от NODE_ENV нужного конфига каждый раз
- для рантайм былобы вот так FIleLoaderModule.forRoot({storagePathEnvKey: 'PATH_FILES'}) и эта штука сама будет ходить при необходимости в енв
- А у тебя такой рабочий ноут на винде, а деплоится все на дебиане И ты сидишь и плачешь)

Main message:
в винде тоже есть подобные команды

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

в винде тоже есть подобные команды

--

## My telegram message #117526
**Time:** 02.08.2021 12:33:42 UTC+05:00
**Link:** https://t.me/nest_ru/117526

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- для рантайм былобы вот так FIleLoaderModule.forRoot({storagePathEnvKey: 'PATH_FILES'}) и эта штука сама будет ходить при необходимости в енв
- А у тебя такой рабочий ноут на винде, а деплоится все на дебиане И ты сидишь и плачешь)
- в винде тоже есть подобные команды
- Да, но тебе придется это все запоминать, а не делать yarn start:dev условно А на счет докинет, он не докинет если ты исправляешь баг в дев режиме, потом выполняешь тесты, потом правишь что-то в дев режиме, так за час 20 итераций, потом отправляешь пулл и дальше все деплоится в стейдж режиме, а потом деплоится на прод в прод режиме Ты с инфраструктурой и прокидыванием окружения потратишь время больше, чем на написание приложения А главное смысл? Ну да, не задача это приложения. Но написать 4 конфиг файла (обычный ts|js файлы) и написать сервис, который в зависимости от прокинутой NODE_ENV условно при старте грузит тот или иной конфиг - дело 5 минут

Main message:
) ну я просто делаю как все делают и делали всегда и пишу об этом, некогда придумывать чета свое в конфигах же пароли и явки, этого в репах не должно быть, так как утечет репа с компа разраба и все приехали...

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

) ну я просто делаю как все делают и делали всегда и пишу об этом, некогда придумывать чета свое в конфигах же пароли и явки, этого в репах не должно быть, так как утечет репа с компа разраба и все приехали...

--

## My telegram message #117532
**Time:** 02.08.2021 12:43:19 UTC+05:00
**Link:** https://t.me/nest_ru/117532

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- в винде тоже есть подобные команды
- Да, но тебе придется это все запоминать, а не делать yarn start:dev условно А на счет докинет, он не докинет если ты исправляешь баг в дев режиме, потом выполняешь тесты, потом правишь что-то в дев режиме, так за час 20 итераций, потом отправляешь пулл и дальше все деплоится в стейдж режиме, а потом деплоится на прод в прод режиме Ты с инфраструктурой и прокидыванием окружения потратишь время больше, чем на написание приложения А главное смысл? Ну да, не задача это приложения. Но написать 4 конфиг файла (обычный ts|js файлы) и написать сервис, который в зависимости от прокинутой NODE_ENV условно при старте грузит тот или иной конфиг - дело 5 минут
- ) ну я просто делаю как все делают и делали всегда и пишу об этом, некогда придумывать чета свое в конфигах же пароли и явки, этого в репах не должно быть, так как утечет репа с компа разраба и все приехали...
- Поэтому сам конфиг - это js файл, в котором ты делаешь process.env.VAR || value И для паролей и явок ты собствено прокидываешь в настройках той же бамбу Но для тестов ты все равно делаешь моковую инфраструктуру и например хранить там пароль от базы которая все равно создается у тебя в памяти локально - нормально

Main message:
Не знаю о чем ты споришь) Я говорю что не нужно использовать конфиг модуль для доставки конфигов в модули, нужно чтобы модули принимали конфиг снаружи через фор Рут А как ты получишь эти конфиг которые положишь в этот фор Рут, это уже сам решай, можешь из енва взять можешь из файла считать Просто конфиг модуль две задачи решает, подгрузка файлов и глобальный стейт с конфигами Но глобальный стейт уже есть - это process.env А добрасыватб конфиг лучше типизированно в сам модуль а не внедрять конфиг модуль который один на все приложение Либы Неста любые посмотри там везде через фор Рут кидают конфиг и в примерах приводят как можно дернуть через асинк и заюзатл конфиг модуль, но не обязательно его юзать ты можешь из енв достать и докинуть сам

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Не знаю о чем ты споришь) Я говорю что не нужно использовать конфиг модуль для доставки конфигов в модули, нужно чтобы модули принимали конфиг снаружи через фор Рут А как ты получишь эти конфиг которые положишь в этот фор Рут, это уже сам решай, можешь из енва взять можешь из файла считать Просто конфиг модуль две задачи решает, подгрузка файлов и глобальный стейт с конфигами Но глобальный стейт уже есть - это process.env А добрасыватб конфиг лучше типизированно в сам модуль а не внедрять конфиг модуль который один на все приложение Либы Неста любые посмотри там везде через фор Рут кидают конфиг и в примерах приводят как можно дернуть через асинк и заюзатл конфиг модуль, но не обязательно его юзать ты можешь из енв достать и докинуть сам

--

## My telegram message #117536
**Time:** 02.08.2021 12:48:57 UTC+05:00
**Link:** https://t.me/nest_ru/117536

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ) ну я просто делаю как все делают и делали всегда и пишу об этом, некогда придумывать чета свое в конфигах же пароли и явки, этого в репах не должно быть, так как утечет репа с компа разраба и все приехали...
- Поэтому сам конфиг - это js файл, в котором ты делаешь process.env.VAR || value И для паролей и явок ты собствено прокидываешь в настройках той же бамбу Но для тестов ты все равно делаешь моковую инфраструктуру и например хранить там пароль от базы которая все равно создается у тебя в памяти локально - нормально
- Не знаю о чем ты споришь) Я говорю что не нужно использовать конфиг модуль для доставки конфигов в модули, нужно чтобы модули принимали конфиг снаружи через фор Рут А как ты получишь эти конфиг которые положишь в этот фор Рут, это уже сам решай, можешь из енва взять можешь из файла считать Просто конфиг модуль две задачи решает, подгрузка файлов и глобальный стейт с конфигами Но глобальный стейт уже есть - это process.env А добрасыватб конфиг лучше типизированно в сам модуль а не внедрять конфиг модуль который один на все приложение Либы Неста любые посмотри там везде через фор Рут кидают конфиг и в примерах приводят как можно дернуть через асинк и заюзатл конфиг модуль, но не обязательно его юзать ты можешь из енв достать и докинуть сам
- А если ты прокидаешь конфиги через forRoot, то как сделать так что бы не прокидать конфиги когда импортиш модуль в другой модуль, тоесть forFeature ? ( не участвую в споре, просто итересно )

Main message:
я часто юзаю мульти диай, и этот же способ юзаю для получения конфигов в любом месте  https://t.me/nest_ru/117442

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я часто юзаю мульти диай, и этот же способ юзаю для получения конфигов в любом месте  https://t.me/nest_ru/117442

--

## My telegram message #117538
**Time:** 02.08.2021 12:54:34 UTC+05:00
**Link:** https://t.me/nest_ru/117538

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Не знаю о чем ты споришь) Я говорю что не нужно использовать конфиг модуль для доставки конфигов в модули, нужно чтобы модули принимали конфиг снаружи через фор Рут А как ты получишь эти конфиг которые положишь в этот фор Рут, это уже сам решай, можешь из енва взять можешь из файла считать Просто конфиг модуль две задачи решает, подгрузка файлов и глобальный стейт с конфигами Но глобальный стейт уже есть - это process.env А добрасыватб конфиг лучше типизированно в сам модуль а не внедрять конфиг модуль который один на все приложение Либы Неста любые посмотри там везде через фор Рут кидают конфиг и в примерах приводят как можно дернуть через асинк и заюзатл конфиг модуль, но не обязательно его юзать ты можешь из енв достать и докинуть сам
- А если ты прокидаешь конфиги через forRoot, то как сделать так что бы не прокидать конфиги когда импортиш модуль в другой модуль, тоесть forFeature ? ( не участвую в споре, просто итересно )
- я часто юзаю мульти диай, и этот же способ юзаю для получения конфигов в любом месте  https://t.me/nest_ru/117442
- Идея понятна, но как сделано не совсем понятно) А импортить потом в другие модули просто без forRoot или forFeature выходит.

Main message:
да

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

да

--

## My telegram message #117542
**Time:** 02.08.2021 13:02:17 UTC+05:00
**Link:** https://t.me/nest_ru/117542

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- я часто юзаю мульти диай, и этот же способ юзаю для получения конфигов в любом месте  https://t.me/nest_ru/117442
- Идея понятна, но как сделано не совсем понятно) А импортить потом в другие модули просто без forRoot или forFeature выходит.
- да
- Понял, буду розбираться) Спасибо большое

Main message:
самая фишка оказалась если кучу раз сделать инжект токена с одним названием, они не перетирают друг друга, просто через инжектор неста доступен последний, а если дернуть напрямую из дерева, то доступны все - вот тебе и мульти диай)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

самая фишка оказалась если кучу раз сделать инжект токена с одним названием, они не перетирают друг друга, просто через инжектор неста доступен последний, а если дернуть напрямую из дерева, то доступны все - вот тебе и мульти диай)

--

## My telegram message #117544
**Time:** 02.08.2021 13:03:59 UTC+05:00
**Link:** https://t.me/nest_ru/117544

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- да
- Понял, буду розбираться) Спасибо большое
- самая фишка оказалась если кучу раз сделать инжект токена с одним названием, они не перетирают друг друга, просто через инжектор неста доступен последний, а если дернуть напрямую из дерева, то доступны все - вот тебе и мульти диай)
- Я даже не думал что так можно

Main message:
но так как есть такие штуки в несте как forwardRef и асинк модули, то есть вероятность что когда ты будешь выдергивать, там еще не все будет, так как оно подгрузится в рантайм

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

но так как есть такие штуки в несте как forwardRef и асинк модули, то есть вероятность что когда ты будешь выдергивать, там еще не все будет, так как оно подгрузится в рантайм

--

## My telegram message #117546
**Time:** 02.08.2021 13:04:11 UTC+05:00
**Link:** https://t.me/nest_ru/117546

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- самая фишка оказалась если кучу раз сделать инжект токена с одним названием, они не перетирают друг друга, просто через инжектор неста доступен последний, а если дернуть напрямую из дерева, то доступны все - вот тебе и мульти диай)
- Я даже не думал что так можно
- но так как есть такие штуки в несте как forwardRef и асинк модули, то есть вероятность что когда ты будешь выдергивать, там еще не все будет, так как оно подгрузится в рантайм
- +++. Но меня он не устраивает тем, что дженерик возвращаемого типа никак не помогает в обработке и приведению строки к типу, поэтому начал юзать кастом конфиг, который экстендит дефолтный и в зависимости от дженерика приводит к типу. Мб как нибудь доработаю чтоб в нпм выкинуть, да бы можно было не копипастить и юзать везде

Main message:
если не юзать forwardRef то норм все

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

если не юзать forwardRef то норм все

--

## My telegram message #117549
**Time:** 02.08.2021 13:09:54 UTC+05:00
**Link:** https://t.me/nest_ru/117549

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- но так как есть такие штуки в несте как forwardRef и асинк модули, то есть вероятность что когда ты будешь выдергивать, там еще не все будет, так как оно подгрузится в рантайм
- +++. Но меня он не устраивает тем, что дженерик возвращаемого типа никак не помогает в обработке и приведению строки к типу, поэтому начал юзать кастом конфиг, который экстендит дефолтный и в зависимости от дженерика приводит к типу. Мб как нибудь доработаю чтоб в нпм выкинуть, да бы можно было не копипастить и юзать везде
- если не юзать forwardRef то норм все
- Походу нужно идти учить ангуляр что бы лутше понять все эти штуки з контейнерами и зависимостями

Main message:
даже нужно) вдруг когда нить ядро неста переведут на ангулар и его диай 😊, который многое позволяет, но там все происходит при компиляции они внедрились в компилятор tsc, а тут в рантайм и поэтому не все фичи ангулар диай возможны

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

даже нужно) вдруг когда нить ядро неста переведут на ангулар и его диай 😊, который многое позволяет, но там все происходит при компиляции они внедрились в компилятор tsc, а тут в рантайм и поэтому не все фичи ангулар диай возможны

--

## My telegram message #117551
**Time:** 02.08.2021 13:30:07 UTC+05:00
**Link:** https://t.me/nest_ru/117551

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- если не юзать forwardRef то норм все
- Походу нужно идти учить ангуляр что бы лутше понять все эти штуки з контейнерами и зависимостями
- даже нужно) вдруг когда нить ядро неста переведут на ангулар и его диай 😊, который многое позволяет, но там все происходит при компиляции они внедрились в компилятор tsc, а тут в рантайм и поэтому не все фичи ангулар диай возможны
- Почему у меня все OneToOne отношения между таблицами создают foreign key с уникальным значением?) Это приводит к этому:  QueryFailedError: Duplicate entry '1' for key 'delivery_address.REL_ef5c0761dcb0482a2068f011b1'  Неужели я что-то забыл?  DeliveryAddress:   export class DeliveryAddress { @OneToOne(() => City, { nullable: false }) @JoinColumn() city: City; }   City:   export class City { @PrimaryGeneratedColumn() id: number; @Column() name: string; }

Main message:
может каскад какой там есть и типа его нужно вырубить, а вообще автосинк не нужно юзать, лучше сгенерь на основе ентити миграции и подправь чтобы левого не делало

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

может каскад какой там есть и типа его нужно вырубить, а вообще автосинк не нужно юзать, лучше сгенерь на основе ентити миграции и подправь чтобы левого не делало

--

## My telegram message #117553
**Time:** 02.08.2021 13:31:20 UTC+05:00
**Link:** https://t.me/nest_ru/117553

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- даже нужно) вдруг когда нить ядро неста переведут на ангулар и его диай 😊, который многое позволяет, но там все происходит при компиляции они внедрились в компилятор tsc, а тут в рантайм и поэтому не все фичи ангулар диай возможны
- Почему у меня все OneToOne отношения между таблицами создают foreign key с уникальным значением?) Это приводит к этому:  QueryFailedError: Duplicate entry '1' for key 'delivery_address.REL_ef5c0761dcb0482a2068f011b1'  Неужели я что-то забыл?  DeliveryAddress:   export class DeliveryAddress { @OneToOne(() => City, { nullable: false }) @JoinColumn() city: City; }   City:   export class City { @PrimaryGeneratedColumn() id: number; @Column() name: string; }
- может каскад какой там есть и типа его нужно вырубить, а вообще автосинк не нужно юзать, лучше сгенерь на основе ентити миграции и подправь чтобы левого не делало
- Я синхрон и не использую

Main message:
Почему у меня все OneToOne отношения между таблицами создают foreign key с уникальным значением?)  этот текст говорит что используешь

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Почему у меня все OneToOne отношения между таблицами создают foreign key с уникальным значением?)  этот текст говорит что используешь

--

## My telegram message #117557
**Time:** 02.08.2021 13:32:16 UTC+05:00
**Link:** https://t.me/nest_ru/117557

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- может каскад какой там есть и типа его нужно вырубить, а вообще автосинк не нужно юзать, лучше сгенерь на основе ентити миграции и подправь чтобы левого не делало
- Я синхрон и не использую
- Почему у меня все OneToOne отношения между таблицами создают foreign key с уникальным значением?)  этот текст говорит что используешь
- synchronize: false,

Main message:
ну убери в ней лишние ключи которые тебе не нужны

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну убери в ней лишние ключи которые тебе не нужны

--

## My telegram message #117559
**Time:** 02.08.2021 13:33:16 UTC+05:00
**Link:** https://t.me/nest_ru/117559

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Почему у меня все OneToOne отношения между таблицами создают foreign key с уникальным значением?)  этот текст говорит что используешь
- synchronize: false,
- ну убери в ней лишние ключи которые тебе не нужны
- Я миграции генерирую))). Но это initdb миграция, ее можно же сгенерировать)

Main message:
ну, зайди в нее и удали левые штуки

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну, зайди в нее и удали левые штуки

--

## My telegram message #117563
**Time:** 02.08.2021 13:37:24 UTC+05:00
**Link:** https://t.me/nest_ru/117563

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Я миграции генерирую))). Но это initdb миграция, ее можно же сгенерировать)
- ну, зайди в нее и удали левые штуки
- Ок, спасибо. Руками подправлю
- Не устаю утверждать, что автомиграции - говно

Main message:
я уже не говорю так, так как всем пофигу) делают как проще, чеж тут поделаешь с любителями стрелять себе в ногу/голову/руки/живот )

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я уже не говорю так, так как всем пофигу) делают как проще, чеж тут поделаешь с любителями стрелять себе в ногу/голову/руки/живот )

--

## My telegram message #117565
**Time:** 02.08.2021 13:41:35 UTC+05:00
**Link:** https://t.me/nest_ru/117565

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Ок, спасибо. Руками подправлю
- Не устаю утверждать, что автомиграции - говно
- я уже не говорю так, так как всем пофигу) делают как проще, чеж тут поделаешь с любителями стрелять себе в ногу/голову/руки/живот )
- Мне нравился там баг с перегенерацией индексов) То есть если сделать уникальный индекс на несколько полей, то автомиграция его каждый раз пересоздаёт с новым названием

Main message:
Мне нравилось раньше было такое, при переименовании колонки оно сносило из неё данные))

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Мне нравилось раньше было такое, при переименовании колонки оно сносило из неё данные))

--

## My telegram message #117597
**Time:** 02.08.2021 15:44:11 UTC+05:00
**Link:** https://t.me/nest_ru/117597

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Привет всем! Кто сталкивался, нужно отправить запрос на сторонее АПИ (у них там Basic Authorization, ключ сессии приходит в  set-cookie ответе), использую для этого  HTTPModule с опцией  withCredentials:true , но в итоге, после получения ответа от одного запроса и последующей отправки второго запроса - второй происходит без передачи куки (которую я получил от первого запроса). Может я что-то не так делаю? Как отправлять последовательно такие запросы, чтобы куки от авторизации сохранялось через  set-cookie header и передавалось потом при следующих запросах ?
- @Exclude у поля и использовать class-transformer
- лучше в тайпорм сразу select: false
- Пчм?

Main message:
) уже изложил же все, опять по сто раз одно и тоже писать, конфиги в модулях лучше юзать через forRoot

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

) уже изложил же все, опять по сто раз одно и тоже писать, конфиги в модулях лучше юзать через forRoot

--

## My telegram message #117604
**Time:** 02.08.2021 15:47:55 UTC+05:00
**Link:** https://t.me/nest_ru/117604

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Пчм?
- ) уже изложил же все, опять по сто раз одно и тоже писать, конфиги в модулях лучше юзать через forRoot
- forFeature
- Тащем-та да, и в каждом модуле отдельный файл-конфиг

Main message:
https://t.me/nest_ru/117508

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

https://t.me/nest_ru/117508

--

## My telegram message #117637
**Time:** 02.08.2021 16:06:27 UTC+05:00
**Link:** https://t.me/nest_ru/117637

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Есть такой холивар да ошибки и исключения называется, тож можно целый день орать и каждый при своём мнении останется, в этом вопросе нет одного правильного решения

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Есть такой холивар да ошибки и исключения называется, тож можно целый день орать и каждый при своём мнении останется, в этом вопросе нет одного правильного решения

--

## My telegram message #117643
**Time:** 02.08.2021 16:08:36 UTC+05:00
**Link:** https://t.me/nest_ru/117643

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Есть такой холивар да ошибки и исключения называется, тож можно целый день орать и каждый при своём мнении останется, в этом вопросе нет одного правильного решения
- как нет? вот же Тимур
- если я не ошибаюсь, в хороших книгах про программирование написано это
- еще бы выяснить какие книги хорошие, а какие плохие и почему. но это уже для другого холивара)

Main message:
Там тоже мусолят эту тему и в итоге не ясно как правильно)) поэтому пишем как удобно по бизнес задачам

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Там тоже мусолят эту тему и в итоге не ясно как правильно)) поэтому пишем как удобно по бизнес задачам

--

## My telegram message #117648
**Time:** 02.08.2021 16:10:19 UTC+05:00
**Link:** https://t.me/nest_ru/117648

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Там тоже мусолят эту тему и в итоге не ясно как правильно)) поэтому пишем как удобно по бизнес задачам
- Вон джава последнее время очень старается быть удобной для бизнеса
- а что с ней стало?
- почему все сидят на 8 версии?

Main message:
Появился Котлин))

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Появился Котлин))

--

## My telegram message #117680
**Time:** 02.08.2021 16:27:06 UTC+05:00
**Link:** https://t.me/nest_ru/117680

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Ну.. не платить деньги было бы слишком жестко))

Main message:
недавно гдет видел вакансию на рельсы чет от 500 т.р. штоли) я офигел

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

недавно гдет видел вакансию на рельсы чет от 500 т.р. штоли) я офигел

--

## My telegram message #117692
**Time:** 02.08.2021 16:37:10 UTC+05:00
**Link:** https://t.me/nest_ru/117692

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Да он даже и не при смерти Вполне живёт и развивается Просто на фоне ЖС может показаться что-то
- в сваггере не все показывает
- ++ и поэтому я маппэд тайпы перестал юзать. только если input/createSmthDto и SmthDto
- так я в курсе) сам там)) и фиг слезу в ближайшее время и с рельс и с руби в целом, на кристал вон ток разве что) уж точно не на жс.

Main message:
я во время бума рельсов, выбирал между ним и питон, пошел в питон + angular1, этот путь меня провел через c#, java и привел в ts nestjs) если бы пошел в руби то ща был бы в ror+react и минус 70% опыта инженера)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я во время бума рельсов, выбирал между ним и питон, пошел в питон + angular1, этот путь меня провел через c#, java и привел в ts nestjs) если бы пошел в руби то ща был бы в ror+react и минус 70% опыта инженера)

--

## My telegram message #117720
**Time:** 02.08.2021 18:19:05 UTC+05:00
**Link:** https://t.me/nest_ru/117720

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- а как ты прокидываешь переменные окружения, с помощью dotenv и process.env?

Main message:
не использую dotenv, с разными конфигами запускаю  https://t.me/nest_ru/117520 и в process.env появляется что мне нужно

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

не использую dotenv, с разными конфигами запускаю  https://t.me/nest_ru/117520 и в process.env появляется что мне нужно

--

## My telegram message #117723
**Time:** 02.08.2021 18:27:11 UTC+05:00
**Link:** https://t.me/nest_ru/117723

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Господа, у кого-то есть наработанный подход как писать transport agnostic код, потому что websocket gateway кажется заставляет использовать его как контроллер, причем один на все приложение, потому что конкатенация гейтвеев насколько знаю недоступна?
- Проверил, все ок
- не использую dotenv, с разными конфигами запускаю  https://t.me/nest_ru/117520 и в process.env появляется что мне нужно
- Спасибо

Main message:
Да так получается но у меня rxjs ну потход такой да

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Да так получается но у меня rxjs ну потход такой да

--

## My telegram message #117726
**Time:** 02.08.2021 18:29:10 UTC+05:00
**Link:** https://t.me/nest_ru/117726

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- не использую dotenv, с разными конфигами запускаю  https://t.me/nest_ru/117520 и в process.env появляется что мне нужно
- Спасибо
- Да так получается но у меня rxjs ну потход такой да
- удобно?)

Main message:
Было вначале не удобно, потом привык терь без него не могу

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Было вначале не удобно, потом привык терь без него не могу

--

## My telegram message #117797
**Time:** 03.08.2021 00:50:42 UTC+05:00
**Link:** https://t.me/nest_ru/117797

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- @KaufmanEndy Привет, могу ошибаться но кажеться ты когда то говорил что подкидываеш entity ( модели бд ) в модули из вне ( так понимаю через forRoot или как то так ) Поделись, если не жалко, как правильно это реализовать, буду очень благодарен)

Main message:
было время да, когда так делал, внутри делаю абстрактный класс для работы с данными, и потом через forRoot Докидываю реализацию которая через тайпорм работает с базой или через призму

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

было время да, когда так делал, внутри делаю абстрактный класс для работы с данными, и потом через forRoot Докидываю реализацию которая через тайпорм работает с базой или через призму

--

## My telegram message #117802
**Time:** 03.08.2021 01:00:08 UTC+05:00
**Link:** https://t.me/nest_ru/117802

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Точно в 'DataGrip` работает?
- @KaufmanEndy Привет, могу ошибаться но кажеться ты когда то говорил что подкидываеш entity ( модели бд ) в модули из вне ( так понимаю через forRoot или как то так ) Поделись, если не жалко, как правильно это реализовать, буду очень благодарен)
- было время да, когда так делал, внутри делаю абстрактный класс для работы с данными, и потом через forRoot Докидываю реализацию которая через тайпорм работает с базой или через призму
- А для всех моделей был один модуль где они все регестрируються ( ну TypeOrm.forFeature(entities) ) ? приходит на ум сделать такой модуль глобальным и потом в forRoot подкидывать уже абстрактный клас Что то пытаюсь разобраться как это все работает и как правильно сделать

Main message:
у тебя тайп орм и ты не хочешь чтобы модули знали о тайп орм и базе ничего?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

у тебя тайп орм и ты не хочешь чтобы модули знали о тайп орм и базе ничего?

--

## My telegram message #117804
**Time:** 03.08.2021 01:01:45 UTC+05:00
**Link:** https://t.me/nest_ru/117804

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- было время да, когда так делал, внутри делаю абстрактный класс для работы с данными, и потом через forRoot Докидываю реализацию которая через тайпорм работает с базой или через призму
- А для всех моделей был один модуль где они все регестрируються ( ну TypeOrm.forFeature(entities) ) ? приходит на ум сделать такой модуль глобальным и потом в forRoot подкидывать уже абстрактный клас Что то пытаюсь разобраться как это все работает и как правильно сделать
- у тебя тайп орм и ты не хочешь чтобы модули знали о тайп орм и базе ничего?
- Да да

Main message:
в фича модуле делаешь абстрактный класс, логики которые работаю с базой делаешь абстрактными

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

в фича модуле делаешь абстрактный класс, логики которые работаю с базой делаешь абстрактными

--

## My telegram message #117810
**Time:** 03.08.2021 01:13:56 UTC+05:00
**Link:** https://t.me/nest_ru/117810

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- у тебя тайп орм и ты не хочешь чтобы модули знали о тайп орм и базе ничего?
- Да да
- в фича модуле делаешь абстрактный класс, логики которые работаю с базой делаешь абстрактными
- Да, с слов кажеться понятно, но как реализовать не все понятно, но всеравно большое спасибо, с етим уже можно работать) Буду разбираться)

Main message:
у тебя может быть вот такой фор рут FeatureModule.forRootAsync({ storageForUser:{ imports:[ TypeOrm.forFeature(....), ], useFactory:(customService:CustomService,connection:Connection)=>new FeatureCustomStorage(customService,connection), inject: [CustomService, Connection]; } })

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

у тебя может быть вот такой фор рут FeatureModule.forRootAsync({ storageForUser:{ imports:[ TypeOrm.forFeature(....), ], useFactory:(customService:CustomService,connection:Connection)=>new FeatureCustomStorage(customService,connection), inject: [CustomService, Connection]; } })

--

## My telegram message #117813
**Time:** 03.08.2021 01:15:41 UTC+05:00
**Link:** https://t.me/nest_ru/117813

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- в фича модуле делаешь абстрактный класс, логики которые работаю с базой делаешь абстрактными
- Да, с слов кажеться понятно, но как реализовать не все понятно, но всеравно большое спасибо, с етим уже можно работать) Буду разбираться)
- у тебя может быть вот такой фор рут FeatureModule.forRootAsync({ storageForUser:{ imports:[ TypeOrm.forFeature(....), ], useFactory:(customService:CustomService,connection:Connection)=>new FeatureCustomStorage(customService,connection), inject: [CustomService, Connection]; } })
- Когда 20 лет писал на джаве, 10 на шарпе, 4 на несте но не понял ничего :D

Main message:
можешь это докинуть просто по диай без фор рута { provide: StorageForUser, useFactory:(customService:CustomService,connection:Connection)=>new FeatureCustomStorage(customService,connection), inject: [CustomService, Connection]; },

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

можешь это докинуть просто по диай без фор рута { provide: StorageForUser, useFactory:(customService:CustomService,connection:Connection)=>new FeatureCustomStorage(customService,connection), inject: [CustomService, Connection]; },

--

## My telegram message #117818
**Time:** 03.08.2021 01:19:04 UTC+05:00
**Link:** https://t.me/nest_ru/117818

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- у тебя может быть вот такой фор рут FeatureModule.forRootAsync({ storageForUser:{ imports:[ TypeOrm.forFeature(....), ], useFactory:(customService:CustomService,connection:Connection)=>new FeatureCustomStorage(customService,connection), inject: [CustomService, Connection]; } })
- Когда 20 лет писал на джаве, 10 на шарпе, 4 на несте но не понял ничего :D
- можешь это докинуть просто по диай без фор рута { provide: StorageForUser, useFactory:(customService:CustomService,connection:Connection)=>new FeatureCustomStorage(customService,connection), inject: [CustomService, Connection]; },
- Ну вообще я не настолько старый Но как бы бин в том же спринге считай модульный диай

Main message:
диай с изоляцией?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

диай с изоляцией?

--

## My telegram message #117822
**Time:** 03.08.2021 01:20:34 UTC+05:00
**Link:** https://t.me/nest_ru/117822

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- можешь это докинуть просто по диай без фор рута { provide: StorageForUser, useFactory:(customService:CustomService,connection:Connection)=>new FeatureCustomStorage(customService,connection), inject: [CustomService, Connection]; },
- Ну вообще я не настолько старый Но как бы бин в том же спринге считай модульный диай
- диай с изоляцией?
- Что значит с изоляцией? Все в любом случае идет через единый источник что в несте, что в спринге

Main message:
ну нельзя из одного модуля дернуть чет из другого модуля, так как у них разный диай

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну нельзя из одного модуля дернуть чет из другого модуля, так как у них разный диай

--

## My telegram message #117825
**Time:** 03.08.2021 01:24:14 UTC+05:00
**Link:** https://t.me/nest_ru/117825

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- диай с изоляцией?
- Что значит с изоляцией? Все в любом случае идет через единый источник что в несте, что в спринге
- ну нельзя из одного модуля дернуть чет из другого модуля, так как у них разный диай
- юзайте  @Global() и ваша жизнь станет проще

Main message:
или сложной

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

или сложной

--

## My telegram message #117827
**Time:** 03.08.2021 01:24:25 UTC+05:00
**Link:** https://t.me/nest_ru/117827

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ну нельзя из одного модуля дернуть чет из другого модуля, так как у них разный диай
- юзайте  @Global() и ваша жизнь станет проще
- или сложной
- Зависит от кармы

Main message:
кому как повезет)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

кому как повезет)

--

## My telegram message #117830
**Time:** 03.08.2021 01:24:43 UTC+05:00
**Link:** https://t.me/nest_ru/117830

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- или сложной
- Зависит от кармы
- кому как повезет)
- а ты хорош (tm) :D

Main message:
у нас было сложно на работе) поэтому выпилили коекак

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

у нас было сложно на работе) поэтому выпилили коекак

--

## My telegram message #117833
**Time:** 03.08.2021 01:27:56 UTC+05:00
**Link:** https://t.me/nest_ru/117833

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- а ты хорош (tm) :D
- у нас было сложно на работе) поэтому выпилили коекак
- похоже на легкие курильщика :)
- Эм, как может быть разный диай?) DI - это внедрение зависимостей. Если ты внедрил зависимости из одного модуля в другой - то можешь дернуть. Не внедрил - не можешь.

Main message:
Ну, потомучто есть у нас сущность модуль, в джава я такой не видел, и в шарпе, но я там не углублялся так что может просто не знаю

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Ну, потомучто есть у нас сущность модуль, в джава я такой не видел, и в шарпе, но я там не углублялся так что может просто не знаю

--

## My telegram message #117838
**Time:** 03.08.2021 01:30:59 UTC+05:00
**Link:** https://t.me/nest_ru/117838

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- похоже на легкие курильщика :)
- Эм, как может быть разный диай?) DI - это внедрение зависимостей. Если ты внедрил зависимости из одного модуля в другой - то можешь дернуть. Не внедрил - не можешь.
- Ну, потомучто есть у нас сущность модуль, в джава я такой не видел, и в шарпе, но я там не углублялся так что может просто не знаю
- Эм, я конечно дико извиняюсь Но каждый модуль - это не отдельный контейнер Контейнер он на всю систему один, а вот видимость зависимостей разная

Main message:
Можно и так сказать да

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Можно и так сказать да

--

## My telegram message #117841
**Time:** 03.08.2021 01:31:38 UTC+05:00
**Link:** https://t.me/nest_ru/117841

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Ну, потомучто есть у нас сущность модуль, в джава я такой не видел, и в шарпе, но я там не углублялся так что может просто не знаю
- Эм, я конечно дико извиняюсь Но каждый модуль - это не отдельный контейнер Контейнер он на всю систему один, а вот видимость зависимостей разная
- Можно и так сказать да
- Всем сладких снов и спокойной ночи

Main message:
Просто есть понятие скоупов оно у нас как бы параллельно ещё идет

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Просто есть понятие скоупов оно у нас как бы параллельно ещё идет

--

## My telegram message #117844
**Time:** 03.08.2021 01:32:28 UTC+05:00
**Link:** https://t.me/nest_ru/117844

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Всем сладких снов и спокойной ночи
- Просто есть понятие скоупов оно у нас как бы параллельно ещё идет
- Ну вот, тоже самое в любом другом нормальном контейнере В том же спринге, ты в конфигурации бина можешь указать хоть на какие файлы его можно резолвить
- Ладно, тут про спринг говорят, хочу ещё 5 мин побыть

Main message:
И в ангулар скоупы он идут параллельно с скоупои диай модуля

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

И в ангулар скоупы он идут параллельно с скоупои диай модуля

--

## My telegram message #117848
**Time:** 03.08.2021 01:33:16 UTC+05:00
**Link:** https://t.me/nest_ru/117848

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Ну вот, тоже самое в любом другом нормальном контейнере В том же спринге, ты в конфигурации бина можешь указать хоть на какие файлы его можно резолвить

Main message:
Я не шарю) не так много писал в нем

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Я не шарю) не так много писал в нем

--

## My telegram message #117851
**Time:** 03.08.2021 01:33:59 UTC+05:00
**Link:** https://t.me/nest_ru/117851

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Спринг жоще неста ?
- Я не шарю) не так много писал в нем
- Конечно
- ну сам прикинь - нест это гнездышко, а спринг - стальная пружина :D

Main message:
Я в несте так как хочу шарить и шарю логику между фронтом и бэком, причин у меня больше нет

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Я в несте так как хочу шарить и шарю логику между фронтом и бэком, причин у меня больше нет

--

## My telegram message #117857
**Time:** 03.08.2021 01:35:11 UTC+05:00
**Link:** https://t.me/nest_ru/117857

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Я вообще на спринге не писал, но по фану смотрел десятки часов лекций конференций и докладов)

Main message:
Я писал, работал и на спринг бутк и на апаче сикф вроде назывался ебалда

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Я писал, работал и на спринг бутк и на апаче сикф вроде назывался ебалда

--

## My telegram message #117892
**Time:** 03.08.2021 01:56:56 UTC+05:00
**Link:** https://t.me/nest_ru/117892

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- в шарпе? нет асинхрона?)
- Асинхронность и мультипольность ?
- все там есть ток в путь)
- Гоу

Main message:
)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

)

--

## My telegram message #118002
**Time:** 03.08.2021 12:22:11 UTC+05:00
**Link:** https://t.me/nest_ru/118002

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Никак, он инжектит по токену
- ребят, ну это уже все не про нест) седня тут день оффтопа просто))
- Ля как понимаю)
- this.userRepository undefined почему то

Main message:
Что за депенденси?

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Что за депенденси?

--

## My telegram message #118025
**Time:** 03.08.2021 16:13:09 UTC+05:00
**Link:** https://t.me/nest_ru/118025

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Main message:
Вот тут инжекти сервис свой и валидат измени

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Вот тут инжекти сервис свой и валидат измени

--

## My telegram message #118030
**Time:** 03.08.2021 16:17:53 UTC+05:00
**Link:** https://t.me/nest_ru/118030

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- кто как сидит тестовые данные при использование typeorm?
- есть подозрение что он какую то другую стратегию юзает
- Вот тут инжекти сервис свой и валидат измени
- нашел такой способ  https://stackoverflow.com/questions/51198817/typeorm-how-to-seed-database костыли(

Main message:
Сейчас в модулях есть дефолтные данные их и юзаю для тестов, на проде тоже эти данные есть

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Сейчас в модулях есть дефолтные данные их и юзаю для тестов, на проде тоже эти данные есть

--

## My telegram message #118033
**Time:** 03.08.2021 16:23:28 UTC+05:00
**Link:** https://t.me/nest_ru/118033

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- нашел такой способ  https://stackoverflow.com/questions/51198817/typeorm-how-to-seed-database костыли(
- Сейчас в модулях есть дефолтные данные их и юзаю для тестов, на проде тоже эти данные есть
- Всем привет. А можно небольшой ликбез о том, как работает шедулер? Коротко: есть 2 шедулера, оба стартует примерно в одно время и выполняются примерно 4 секунды. Я ожидал, что сначала выполнится один, затем второй, но в лог выводится одновременный старт и почти одновременное завершение. При этом внутри хоть и есть асинхронные операции, но все дергаются сразу с await
- наверное проще написать скрипт который будет сидить используя классы ормки, чем использовать миграции в качестве сидов

Main message:
эт тебе решать, я по всякому делал, текущее такое везде  https://t.me/nest_ru/118030

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

эт тебе решать, я по всякому делал, текущее такое везде  https://t.me/nest_ru/118030

--

## My telegram message #118037
**Time:** 03.08.2021 16:27:21 UTC+05:00
**Link:** https://t.me/nest_ru/118037

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- наверное проще написать скрипт который будет сидить используя классы ормки, чем использовать миграции в качестве сидов
- эт тебе решать, я по всякому делал, текущее такое везде  https://t.me/nest_ru/118030
- тут речь о  @nestjs/schedule
- обычно тоже через взаимодействие с АПИ создаю, но для начала нужно засидить всяких суперюзеров и т д)

Main message:
модуль и несет с собою юзеров, пароль берется из енва окружения, при деплое если юзаер есть то обновляю и пароль перебиваю

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

модуль и несет с собою юзеров, пароль берется из енва окружения, при деплое если юзаер есть то обновляю и пароль перебиваю

--

## My telegram message #118041
**Time:** 03.08.2021 16:56:21 UTC+05:00
**Link:** https://t.me/nest_ru/118041

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- тут речь о  @nestjs/schedule

Main message:
я вот это юзал давно  import { Cron, NestSchedule } from 'nest-schedule'; export class JobsController extends NestSchedule { @Cron('*/45 * * * *') async cronJobAll() { ... }

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

я вот это юзал давно  import { Cron, NestSchedule } from 'nest-schedule'; export class JobsController extends NestSchedule { @Cron('*/45 * * * *') async cronJobAll() { ... }

--

## My telegram message #118044
**Time:** 03.08.2021 16:57:14 UTC+05:00
**Link:** https://t.me/nest_ru/118044

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- модуль и несет с собою юзеров, пароль берется из енва окружения, при деплое если юзаер есть то обновляю и пароль перебиваю
- понял, спасибо за подробности)
- я вот это юзал давно  import { Cron, NestSchedule } from 'nest-schedule'; export class JobsController extends NestSchedule { @Cron('*/45 * * * *') async cronJobAll() { ... }
- ну я это и юзаю) мне просто интересно, как они выполняются одновременно, а не один за другим

Main message:
ну они друг о друге не знают ниче же

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну они друг о друге не знают ниче же

--

## My telegram message #118046
**Time:** 03.08.2021 16:57:26 UTC+05:00
**Link:** https://t.me/nest_ru/118046

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- я вот это юзал давно  import { Cron, NestSchedule } from 'nest-schedule'; export class JobsController extends NestSchedule { @Cron('*/45 * * * *') async cronJobAll() { ... }
- ну я это и юзаю) мне просто интересно, как они выполняются одновременно, а не один за другим
- ну они друг о друге не знают ниче же
- но видимо где-то между началом промиса и его эвейтом успевает освободиться эвентлуп, чтобы стартанул следующий

Main message:
почему они должны последовательно работать

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

почему они должны последовательно работать

--

## My telegram message #118048
**Time:** 03.08.2021 16:57:35 UTC+05:00
**Link:** https://t.me/nest_ru/118048

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- ну они друг о друге не знают ниче же
- но видимо где-то между началом промиса и его эвейтом успевает освободиться эвентлуп, чтобы стартанул следующий
- почему они должны последовательно работать
- ну я думал что раз один выполняется 4 секунды, то эвентлуп занят

Main message:
)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

)

--

## My telegram message #118054
**Time:** 03.08.2021 16:59:15 UTC+05:00
**Link:** https://t.me/nest_ru/118054

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- почему они должны последовательно работать
- ну я думал что раз один выполняется 4 секунды, то эвентлуп занят
- )
- то есть мне для понимания, await somePromise() успевает начать промис, освободить эвентлуп, а потом я его блокирую ожиданием

Main message:
там вообще ничего не лочится

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

там вообще ничего не лочится

--

## My telegram message #118058
**Time:** 03.08.2021 17:01:08 UTC+05:00
**Link:** https://t.me/nest_ru/118058

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- во время await нет лока?

Main message:
не должно быть)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

не должно быть)

--

## My telegram message #118060
**Time:** 03.08.2021 17:01:35 UTC+05:00
**Link:** https://t.me/nest_ru/118060

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- ну вот когда я написал await и еще не дождался выполнения промиса, эвентлуп свободен?

Main message:
да

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

да

--

## My telegram message #118063
**Time:** 03.08.2021 17:02:19 UTC+05:00
**Link:** https://t.me/nest_ru/118063

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- не должно быть)
- Это тот же then, только выглядит синхронно
- да
- огонь, спасибо)

Main message:
все зависит от запускатора, он может и зафризить по идее евент луп, но тут запускатору пофигу

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

все зависит от запускатора, он может и зафризить по идее евент луп, но тут запускатору пофигу

--

## My telegram message #118065
**Time:** 03.08.2021 17:05:26 UTC+05:00
**Link:** https://t.me/nest_ru/118065

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- да
- огонь, спасибо)
- все зависит от запускатора, он может и зафризить по идее евент луп, но тут запускатору пофигу
- Если воткнуть какой-нибудь цикл с большим количеством математики (расчёт фракталов условно), то ещё как залочится :)

Main message:
такое есть да

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

такое есть да

--

## My telegram message #118067
**Time:** 03.08.2021 17:06:28 UTC+05:00
**Link:** https://t.me/nest_ru/118067

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- все зависит от запускатора, он может и зафризить по идее евент луп, но тут запускатору пофигу
- Если воткнуть какой-нибудь цикл с большим количеством математики (расчёт фракталов условно), то ещё как залочится :)
- такое есть да
- Или какие-то огромные циклы, обрабатывающие массивы большие

Main message:
тик можно воткнуть посередине) как в делфи делали раньше) всяко так делал ты)

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

тик можно воткнуть посередине) как в делфи делали раньше) всяко так делал ты)

--

## My telegram message #118069
**Time:** 03.08.2021 17:08:20 UTC+05:00
**Link:** https://t.me/nest_ru/118069

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Replied message context:
- Делфи не юзал) Турбо паскаль только

Main message:
Там тоже такое было чтобы не фризить

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Там тоже такое было чтобы не фризить

--

## My telegram message #118071
**Time:** 03.08.2021 17:09:59 UTC+05:00
**Link:** https://t.me/nest_ru/118071

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- тик можно воткнуть посередине) как в делфи делали раньше) всяко так делал ты)
- Делфи не юзал) Турбо паскаль только
- Там тоже такое было чтобы не фризить
- Хз, не использовал. Может быть

Main message:
Мега большие операции лучше бить на куски и через очередь гнать, так лок убирал давно, тоже уперся и как раз запуск из шедулера и был

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

Мега большие операции лучше бить на куски и через очередь гнать, так лок убирал давно, тоже уперся и как раз запуск из шедулера и был

--

## My telegram message #118076
**Time:** 03.08.2021 17:20:09 UTC+05:00
**Link:** https://t.me/nest_ru/118076

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- Хз, не использовал. Может быть
- Мега большие операции лучше бить на куски и через очередь гнать, так лок убирал давно, тоже уперся и как раз запуск из шедулера и был
- Лучше просто крон-таски запускать в виде отдельного мс, чтобы блокировка ивент-лупа, даже если произойдёт, не влияла на траф
- по сути это же мидлваря, если я лог туда поставлю, он отобразится

Main message:
ну я скинул код как я делаю

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну я скинул код как я делаю

--

## My telegram message #118079
**Time:** 03.08.2021 17:28:29 UTC+05:00
**Link:** https://t.me/nest_ru/118079

### Semantic Search Content
This section is used ONLY for semantic search and understanding.

Conversation context:
- по сути это же мидлваря, если я лог туда поставлю, он отобразится
- ну я скинул код как я делаю
- Извиняюсь, что вклиниваюсь Я как-то раз, через while и curl посылал непрерывно несложные запросы на сервер и послал 1 запрос, обработчик которого аваитил setTimeout секунд на 15 И пока обработчик этого запроса аваитит, у меня другие запросы успешно обрабатывались Из чего я сделал вывод, пока у меня в обработке 1го запроса, код приостанавливается из-за аваит, у меня могут обрабатываться другие запросы Я верно все понял?
- верно, это async i/o

Main message:
ну можно и внтури асинк авайт сделать такой код который заблокирует всю ноду тут вот всякие буквы по этому поводу  https://medium.com/voodoo-engineering/node-js-lots-of-ways-to-block-your-event-loop-and-how-to-avoid-it-b41f41deecf5

---

### Author Message (Answer Source)
This section MUST be used to generate the final answer.

ну можно и внтури асинк авайт сделать такой код который заблокирует всю ноду тут вот всякие буквы по этому поводу  https://medium.com/voodoo-engineering/node-js-lots-of-ways-to-block-your-event-loop-and-how-to-avoid-it-b41f41deecf5

--

